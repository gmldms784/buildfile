{"version":3,"sources":["utils/getHashedPw.ts","utils/getUserInfo.ts","utils/getSortedAssign.ts","utils/getColorState.ts","utils/sortRows.js","utils/dateToString.ts","utils/MajorDictionary.ts","Main/Model/UserModel.tsx","Main/Model/AssignmentModel.tsx","Main/Model/AnswerModel.tsx","Main/Model/GroupModel.tsx","Main/Model/MessageModel.tsx","Pages/Login.tsx","Components/PageInfo.tsx","Components/AssignmentBox.tsx","Pages/Main.tsx","Components/Layout.tsx","Components/Header.tsx","Components/SideBar.tsx","Components/TimePicker.tsx","Components/MarkdownViewer.tsx","Components/MarkdownEditor.tsx","utils/constants.ts","Components/SortedTableHead.tsx","Components/ScoreStatsRow.tsx","Components/ScoreStats.tsx","Components/EnhancedTableToolbar.tsx","Components/EnhancedTableHead.tsx","Components/QuestionSelector.tsx","Components/StudentSelector.tsx","Components/MemberPopup.tsx","Components/SaveSnackbar.tsx","Components/Loading.tsx","Components/UserAnswer.tsx","Components/StudentQuestion.tsx","Components/StudentPopup.tsx","Pages/Assignment.tsx","Pages/ProfAssignment.tsx","utils/assignmentStateConst.ts","Pages/Setting.tsx","Pages/SetAssignment.tsx","Pages/SetMember.tsx","Pages/Error.tsx","Pages/Admin.tsx","Main/Router.tsx","Main/Provider.tsx","Main/LayoutRouter.tsx","App.tsx","serviceWorker.js","index.tsx"],"names":["hashData","data","crypto","createHash","update","Buffer","from","toString","digest","getHashedPw","password","a","axios","get","withCredentials","hashToken","result","alert","getUserInfo","token","name","value","document","cookie","match","getCookie","decoded","jwt","decode","console","log","type","String","userNumber","major","substring","getMajorStr","userId","userName","undefined","getSortedAssign","assignment","obj","forEach","as","assignmentState","push","colorState","studentState","professorState","color","getColorState","index","compareElements","b","orderBy","sortRows","rows","order","mappedList","map","element","sort","compared","el","modifiedDateToString","date","Date","getFullYear","getMonth","getDate","getHours","getMinutes","majorDict","120","150","280","910","830","270","340","430","450","440","860","920","520","540","550","560","580","610","620","630","640","650","810","840","930","871","872","873","874","875","890","710","720","730","940","majorNumber","Number","slice","UserState","createContext","UserDispatch","UserContextProvider","children","useState","user","setUser","useEffect","u","Provider","useUserState","useContext","useUserDispatch","SelectedState","SelectedDispatch","SelectedAssignState","AssignmentState","AssignmentDispatch","FetchAssignment","AddAssignment","UpdateAssignment","DeleteAssignment","AssignmentContextProvider","selected","setSelected","selectedAssign","setSelectedAssign","setAssignment","history","useHistory","fetchAssignment","assignmentId","then","res","catch","err","status","response","assign","post","put","id","delete","useAssignmentState","useSelectedDispatch","useSelectedAssignState","AnswerState","AnswerDispatch","SaveAnswer","AnswerContextProvider","answer","setAnswer","fetchAnswer","ans","answers","JSON","stringify","useAnswerState","saveAnswer","GroupState","GroupDispatch","FetchGroup","SaveGroup","DeleteGroup","GroupContextProvider","group","setGroup","fetchGroup","groupId","useGroupState","MessageState","MessageDispatch","OnOffState","OnOffDispatch","SaveMessage","MessageContextProvider","message","setMessage","onOff","setOnOff","msg","onff","useMessageState","useOnOffState","withCookies","props","cookies","setCookies","setId","pw","setPw","btnText","setBtnText","checked","setChecked","replace","savedId","loginAsTestProfessorCookie","loginAsTestStudentCookie","handleLoginSubmit","e","preventDefault","hashedPw","userPw","set","path","remove","className","Paper","elevation","Grid","container","alignItems","justify","direction","src","Typography","variant","Link","href","onSubmit","TextField","label","required","rowsMax","onChange","target","FormControlLabel","control","Checkbox","Button","size","Divider","orientation","onClick","PageInfo","icon","mainTitle","subTitle","information","rightSide","clsx","item","AssignmentBox","asInfo","state","deadline","to","assignmentName","Main","assignments","sortedAssign","setSortedAssign","_","Layout","open","useOpen","alertOpen","setAlertOpen","clearTime","setClearTime","mobileRef","createRef","onAlert","setTimeout","handleCloseAlert","clearTimeout","current","offsetWidth","window","location","ref","classes","userType","Toolbar","Alert","severity","AlertTitle","Badge","Header","trigger","useScrollTrigger","Slide","appear","in","IconButton","aria-label","edge","confirm","withRouter","nowOn","setNowOn","pathname","arr","List","subheader","ListSubheader","component","ListItem","button","ListItemText","primary","length","TimePicker","startDate","setStartDate","endDate","setEndDate","startHelperText","endHelperText","publishingTime","setPublishingTime","setDeadline","checkCorrect","date1","date2","getTime","getDay","timeFormat","utils","DateFnsUtils","spacing","disableToolbar","format","tmp","setHours","setMinutes","helperText","KeyboardButtonProps","defaultValue","time","split","InputLabelProps","shrink","MarkdownViewer","renderLink","newProps","escapeHtml","plugins","RemarkMathPlugin","remarkGfm","renderers","text","emoji","break","paragraph","emphasis","link","linkReference","strong","list","start","listItem","blockquote","code","table","tableCell","style","textAlign","align","padding","isHeader","background","inlineCode","math","inlineMath","html","MarkDownWithLaTeXRules","latexRules","LatexHighlightRules","ace","require","getRules","$rules","regex","next","embedRules","MarkdownHighlightRules","CustomMarkdownMode","HighlightRules","Mode","MarkdownEditor","contents","lines","source","setSource","timer","setTimer","editorDivRef","useRef","editorRef","viewerRef","updateSource","session","editor","getSession","getValue","clearInterval","updateHeight","height","offsetHeight","customMarkDown","setMode","setInterval","setValue","mode","theme","fontSize","showPrintMargin","minLines","maxLines","showGutter","highlightActiveLine","wrapEnabled","flexItem","TABLE__SCORE","allowSorting","TABLE__QUESTION","disablePadding","TABLE__STUDENTS","SortedTableHead","headCells","onRequestSort","TableHead","TableRow","TableCell","headCell","sortDirection","TableSortLabel","active","ScoreStatsRow","row","setOpen","scope","submittedCount","markedCount","allMarked","green","red","scoreSum","paddingBottom","paddingTop","colSpan","Collapse","timeout","unmountOnExit","Box","margin","gutterBottom","Table","TableBody","scores","scoreRow","questionNumber","questionId","marked","score","ScoreStats","makeStyles","paper","width","marginBottom","minWidth","visuallyHidden","border","clip","overflow","position","top","answersDict","setOrder","setOrderBy","page","setPage","rowsPerPage","setRowsPerPage","setRows","students","singleRow","submitted","answerOfQuesId","filter","answerContent","questions","ques","TableContainer","reduce","acc","cur","getAverageScore","TablePagination","rowsPerPageOptions","count","onChangePage","newValue","onChangeRowsPerPage","parseInt","useStyles","root","paddingLeft","paddingRight","highlight","palette","secondary","main","backgroundColor","lighten","light","dark","title","flex","EnhancedTableToolbar","numSelected","EnhancedTableHead","onSelectAllClick","rowCount","indeterminate","inputProps","idx","property","event","getComparator","stableSort","array","comparator","stabilizedThis","QuestionSelector","emptyRows","setEmptyRows","Math","min","q","aria-labelledby","newSelecteds","n","isItemSelected","indexOf","labelId","hover","selectedIndex","newSelected","concat","handleClick","role","aria-checked","tabIndex","newpage","getIcon","StudentSelector","selectedQues","ansOfQues","find","MemberPopup","typeProps","groupProps","handleClose","groups","saveGroupFunc","nameRef","forceUpdate","setName","members","setMembers","openGroups","setOpenGroups","openImg","setOpenImg","student","setMembersByGroup","changeMember","addMember","deleteMember","splice","changeGroup","gr","isCorrect","member","isNaN","saveGroup","focus","flag","saveMembers","Modal","onClose","aria-describedby","wrap","accept","file","files","toLowerCase","check","reader","FileReader","onload","evt","bstr","wb","XLSX","read","wsname","SheetNames","ws","Sheets","sheet_to_json","trim","readAsBinaryString","uploadXlsxFile","htmlFor","alt","InputProps","startAdornment","inputRef","changeName","onKeyDown","keyCode","setMemberByKeyDown","error","autoFocus","maxLength","SaveSnackbar","onClickFun","modifiedDateStr","Snackbar","anchorOrigin","vertical","horizontal","Loading","CircularProgress","UserAnswer","setScore","isFinished","Fragment","fullScore","onBlur","handleScoreChange","placeholder","StudentQuestion","setStatus","question","scoreText","setScoreText","eachAnswer","setEachAnswer","saveEachAnswer","str","questionContent","StudentPopUp","setStudents","refinedStudents","setRefinedStudents","listName","setListName","studentList","setStudentList","groupState","getStudentList","studentListTmp","renderStudentList","changeStudentList","Object","entries","preProcessingStudentData","returnString","refined","olStudents","prototype","hasOwnProperty","call","getOverlappingStudents","keys","number","studentTag","getElementById","setAttribute","highlightOverlap","initializeHighlight","studentsTag","getElementsByClassName","saveStudentList","errorMessage","saveFunc","f","onInput","bind","changeStudent","deleteStudent","Assignment","answerState","saveAnswerFunc","params","asId","mutex","addEventListener","navigator","platform","metaKey","ctrlKey","saveAnswers","transFormAnswer","qId","meta","modifiedAt","assignmentInfo","PropAssignment","setAnswersDict","setSelectedQues","selectedStus","setSelectedStus","saveAnswerFun","dict","xs","stus","NotExistComponent","ErrorComponent","questionsSet","Set","has","studentId","stuidx","getQueryResult","assignmentStateConst","Setting","confirmDeletion","getAssignmentBox","stateWord","string","deleteAssignment","SetAssignment","qOpen","setQOpen","sOpen","setSOpen","lectureName","setLecture","assignId","setAssignId","assignName","setAssignName","assignInfo","setAssignInfo","initAssignInfo","setInitAssignInfo","modifiedDate","setModifiedDate","setQuestions","renderQuestionIndex","setRenderQuestionIndex","renderQuestionContents","setRenderQuestionContents","initRenderQuestionContents","setInitRenderQuestionContents","renderQuestionScore","setRenderQuestionScore","addAssignObj","setAddAssignObj","updateAssignObj","setUpdateAssignObj","addAssignment","updateAssignment","oldAssignment","setOldAssignmentId","questionHandleOpen","questionHandleClose","listHandleClose","changeRenderQuestion","converted","saveRenderQuestion","fullWidth","changeLectureField","multiline","changeAssignNameField","deleteQuestion","maxQuesId","max","newQuestion","StudentPopup","getStudents","dateToString","errMessage","now","SetMember","deleteGroupFunc","addGroup","Error","Admin","saveFunction","m","o","prompt","process","REACT_APP_ADMIN_KEY","Switch","Router","exact","Login","LayoutRouter","ProfAssignment","App","Boolean","hostname","ReactDOM","render","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.60565ccd.chunk.js","sourcesContent":["import axios from 'axios';\nimport crypto from 'crypto';\n\nfunction hashData(data: any) {\n\treturn crypto.createHash(\"sha256\")\n\t\t.update(Buffer.from(data, \"utf8\").toString('base64'))\n\t\t.digest(\"hex\");\n}\n\nconst getHashedPw = async (password: string) => {\n\ttry {\n\t\tconst hashToken = await axios.get('/v1/token', { withCredentials: true });\n\t\t// token for hashing\n\t\tconst result = hashData(hashToken.data + hashData(hashData(password)));\n\n\t\treturn result;\n\t}\n\tcatch(err) {\n\t\talert(\"예기치 못한 오류가 발생하였습니다.\\n추가 정보: \" + err);\n\t}\n}\n\nexport default getHashedPw;","import { getMajorStr } from '.';\nimport jwt from 'jsonwebtoken';\nimport { UserObj } from '../Main/Type';\n\nconst getCookie = (name: string) => {\n\tconst value = document.cookie.match('(^|;) ?' + name + '=([^;]*)(;|$)');\n\treturn value? value[2] : null;\n}\n\nconst getUserInfo = () => {\n\tconst token = getCookie('access_token');\n\tif(!token) {\n\t\treturn undefined;\n\t}\n\n\t// 저장된 정보 decode\n\tconst decoded = jwt.decode(token);\n\tif(!decoded) {\n\t\treturn undefined;\n\t}\n\n\tif(typeof(decoded) === \"string\") { // 수정필요\n\t\treturn undefined;\n\t}\n\n\t// 교수, 학생 type 저장\n\tconsole.log(decoded.type);\n\tdecoded.type = String(decoded.userNumber)[0] === '1' ? 'professor' : 'student';\n\n\t// major 저장\n\tconst major = String(decoded.userNumber).substring(4,7);\n\tdecoded.major = decoded.type === 'professor' ? \"\" : getMajorStr(major);\n\n\tconst result: UserObj = {\n\t\tuserId: decoded.userId as string,\n\t\tuserName: decoded.userName ,\n\t\tuserNumber: decoded.userNumber,\n\t\tmajor: decoded.major,\n\t\ttype: decoded.type,\n\t}\n\t\n\tconsole.log(decoded);\n\treturn result ? result : undefined;\n}\n\nexport default getUserInfo;","import { AssignmentObj, SortedAssignObj } from \"../Main/Type\";\n\nconst getSortedAssign = (assignment: Array<AssignmentObj>, type: string): SortedAssignObj => {\n\t// 0 : 공개 전 / 1 : 제출 중 / 2: 채점 중 / 3 : 채점 완료\n\t// 교수 => 2 > 0 > 1 > 3\n\t// 학생 => 1 > 3 > 2 > 0\n\n\tconst obj: SortedAssignObj = [[], [], [], []];\n\tif (type === 'professor') {\n\t\t// 교수이면\n\t\tassignment.forEach((as: AssignmentObj) => {\n\t\t\tswitch (as.assignmentState) {\n\t\t\tcase 2:\n\t\t\t\tobj[0].push(as);\n\t\t\t\tbreak;\n\t\t\tcase 0:\n\t\t\t\tobj[1].push(as);\n\t\t\t\tbreak;\n\t\t\tcase 1:\n\t\t\t\tobj[2].push(as);\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tobj[3].push(as);\n\t\t\t}\n\t\t})\n\t} else if (type === 'student'){\n\t\t// 학생이면\n\t\tassignment.forEach((as: AssignmentObj) => {\n\t\t\tswitch (as.assignmentState) {\n\t\t\tcase 1:\n\t\t\t\tobj[0].push(as);\n\t\t\t\tbreak;\n\t\t\tcase 3:\n\t\t\t\tobj[1].push(as);\n\t\t\t\tbreak;\n\t\t\tcase 2:\n\t\t\t\tobj[2].push(as);\n\t\t\t\tbreak;\n\t\t\tcase 0:\n\t\t\t\tobj[3].push(as);\n\t\t\t}\n\t\t})\n\t}\n\treturn obj;\n}\n\nexport default getSortedAssign;\n","const colorState = [{\n\tstudentState: '제출 중인 과제',\n\tprofessorState: '채점 중인 과제',\n\tcolor: 'red',\n}, {\n\tstudentState: '채점 완료된 과제',\n\tprofessorState: '공개 전 과제',\n\tcolor: 'orange',\n}, {\n\tstudentState: '채점 중인 과제',\n\tprofessorState: '제출 중인 과제',\n\tcolor: 'green',\n}, {\n\tstudentState: '공개 전 과제',\n\tprofessorState: '채점 완료된 과제',\n\tcolor: 'gray',\n}]\n\nconst getColorState = (index: number) => {\n\treturn colorState[index];\n}\n\nexport default getColorState;","export const compareElements = (a, b, orderBy) => {\r\n\tif (a[orderBy] < b[orderBy])\r\n\t\treturn -1;\r\n\telse if (a[orderBy] > b[orderBy])\r\n\t\treturn 1;\r\n\telse\r\n\t\treturn 0;\r\n}\r\n\r\nconst sortRows = (rows, order, orderBy) => {\r\n\tconst mappedList = rows.map((element, index) => [element, index]);\r\n\tmappedList.sort((a, b) => {\r\n\t\tconst compared = compareElements(a[0], b[0], orderBy);\r\n\t\treturn order === \"asc\" ? compared : -compared;\r\n\t});\r\n\treturn mappedList.map((el) => el[0]);\r\n}\r\n\r\nexport default sortRows;","const modifiedDateToString = (date : Date | undefined) => {\n\tif (date === undefined)\n\t\treturn \"\";\n\tif (typeof(date) === \"string\")\n\t\tdate = new Date(date);\n\n\tconst dateStr = date.getFullYear() + \"-\" \n                + (date.getMonth()+1 <= 9 ? \"0\" : \"\") + (date.getMonth()+1) + \"-\"\n                + (date.getDate() <= 9 ? \"0\" : \"\") + date.getDate() + \" \"\n                + (date.getHours() <= 9 ? \"0\" : \"\") + date.getHours() + \":\"\n                + (date.getMinutes() <= 9 ? \"0\" : \"\") + date.getMinutes();\n\treturn dateStr;\n};\n\nexport default modifiedDateToString;\n","type MajorType = {\n\t[n : number] : string;\n}\n\nconst majorDict : MajorType = {\n\t// 정경대학\n\t120: \"행정학과\",\n\t150: \"국제관계학과\",\n\t280: \"경제학부\",\n\t910: \"사회복지학과\",\n\t830: \"세무학과\",\n\n\t// 경영대학\n\t270: \"경영학부\",\n\n\t// 공과대학\n\t340: \"화학공학과\",\n\t430: \"기계정보공학과\",\n\t450: \"신소재공학과\",\n\t440: \"전기전자컴퓨터공학부\",\n\t860: \"토목공학과\",\n\t920: \"컴퓨터과학부\",\n\n\t// 자연과학대학\n\t520: \"환경원예학과\",\n\t540: \"수학과\",\n\t550: \"물리학과\",\n\t560: \"생명과학과\",\n\t580: \"통계학과\",\n\n\t// 인문대학\n\t610: \"영어영문학과\",\n\t620: \"국어국문학과\",\n\t630: \"국사학과\",\n\t640: \"철학과\",\n\t650: \"중국어문화학과\",\n\n\t// 도시과학대학\n\t810: \"도시행정학과\",\n\t840: \"도시사회학과\",\n\t930: \"공간정보공학과\",\n\t871: \"건축학부 (건축학)\",\n\t872: \"건축학부 (건축공학)\",\n\t873: \"도시공학과\",\n\t874: \"교통공학과\",\n\t875: \"조경학과\",\n\t890: \"환경공학부\",\n\n\t// 예술체육대학\n\t710: \"음악학과\",\n\t720: \"산업디자인학과\",\n\t730: \"환경조각학과\",\n\t/*스포츠과학과 정보 없음*/\n\n\t// 자유융합대학\n\t940: \"자유전공학부\"\n\t/*융합전공학부 정보 없음*/\n};\n\nconst getMajorStr = (majorNumber : string) => {\n\tconst major = Number(majorNumber.slice(-3));\n\tif (major in majorDict)\n\t\treturn majorDict[major];\n\telse\n\t\treturn \"학과 정보 없음\";\n}\n\nexport default getMajorStr;","import React, {\n\tcreateContext, useContext, Dispatch, useState, useEffect\n} from 'react';\nimport { getUserInfo } from '../../utils';\n\nimport { childrenObj, UserObj } from '../Type';\n\n/* user */\nconst UserState = createContext<UserObj | undefined>(undefined);\nconst UserDispatch = createContext<Dispatch<UserObj | undefined>>(() => { });\n\nexport const UserContextProvider = ({ children }: childrenObj) => {\n\tconst [user, setUser] = useState<UserObj | undefined>(undefined);\n\n\tuseEffect(() => {\n\t\tconst u = getUserInfo();\n\t\tif (u) { // cookie에 유저 존재\n\t\t\tsetUser(u);\n\t\t}\n\t}, []);\n\n\treturn (\n\t\t<UserState.Provider value={user}>\n\t\t\t<UserDispatch.Provider value={setUser}>\n\t\t\t\t{children}\n\t\t\t</UserDispatch.Provider>\n\t\t</UserState.Provider>\n\t);\n}\n\nexport function useUserState() {\n\tconst context = useContext(UserState);\n\treturn context;\n}\n\nexport function useUserDispatch() {\n\tconst context = useContext(UserDispatch);\n\treturn context;\n}\n","import React, {\n\tcreateContext, useContext, useReducer, Dispatch, useState, useEffect\n} from 'react';\nimport axios from 'axios';\nimport { childrenObj, AssignmentObj, AddAssignmentObj, UpdateAssignmentObj } from '../Type';\nimport { useUserState } from './UserModel';\nimport { useHistory } from 'react-router-dom';\n\n/* assignment */\n/*\nconst initialAssignment: Array<AssignmentObj> = [{\n\tassignmentId: 1,\n\tprofessor: 1999999999,\n\tstudents: [2999999999, 2017920038, 2017920001],\n\tassignmentName: \"[이산수학]이산과제1\",\n\tassignmentInfo: \"\",\n\tassignmentState: 1,\n\tpublishingTime: new Date(\"2021/02/14\"),\n\tdeadline: new Date(\"2021/02/14\"),\n\tquestions: [{\n\t\tquestionId: 1,\n\t\tquestionContent: \"문제 1입니당.\",\n\t\tfullScore: 50\n\t}, {\n\t\tquestionId: 2,\n\t\tquestionContent: \"문제 2 입니다.\",\n\t\tfullScore: 50\n\t}],\n\tmeta: {\n\t\tcreateAt: new Date(\"2021/02/14\"),\n\t\tmodifiedAt: new Date(\"2021/02/14\"),\n\t}\n}, {\n\tassignmentId: 10,\n\tprofessor: 1999999999,\n\tstudents: [2999999999, 2017920038, 2017920001],\n\tassignmentName: \"[이산수학]이산과제1\",\n\tassignmentInfo: \"이산수학 과제입니다.\",\n\tassignmentState: 1,\n\tpublishingTime: new Date(\"2021/02/14\"),\n\tdeadline: new Date(\"2021/02/14\"),\n\tquestions: [{\n\t\tquestionId: 1,\n\t\tquestionContent: \"문제 1입니당.\",\n\t\tfullScore: 50\n\t}, {\n\t\tquestionId: 2,\n\t\tquestionContent: \"문제 2 입니다.\",\n\t\tfullScore: 50\n\t}],\n\tmeta: {\n\t\tcreateAt: new Date(\"2021/02/14\"),\n\t\tmodifiedAt: new Date(\"2021/02/14\"),\n\t}\n}, {\n\tassignmentId: 2,\n\tprofessor: 1999999999,\n\tstudents: [2999999999, 2017920038, 2017920001],\n\tassignmentName: \"[이산수학]이산과제2\",\n\tassignmentInfo: \"이산수학 과제입니다.\",\n\tassignmentState: 0,\n\tpublishingTime: new Date(\"2021/02/14\"),\n\tdeadline: new Date(\"2021/02/14\"),\n\tquestions: [{\n\t\tquestionId: 1,\n\t\tquestionContent: \"문제 1입니당.\",\n\t\tfullScore: 50\n\t}, {\n\t\tquestionId: 2,\n\t\tquestionContent: \"문제 2 입니다.\",\n\t\tfullScore: 50\n\t}],\n\tmeta: {\n\t\tcreateAt: new Date(\"2021/02/14\"),\n\t\tmodifiedAt: new Date(\"2021/02/14\"),\n\t}\n}, {\n\tassignmentId: 3,\n\tprofessor: 1999999999,\n\tstudents: [2999999999, 2017920038, 2017920001],\n\tassignmentName: \"[이산수학]이산과제3\",\n\tassignmentInfo: \"이산수학 과제입니다.\",\n\tassignmentState: 2,\n\tpublishingTime: new Date(\"2021/02/14\"),\n\tdeadline: new Date(\"2021/02/14\"),\n\tquestions: [{\n\t\tquestionId: 1,\n\t\tquestionContent: \"문제 1입니당.\",\n\t\tfullScore: 50\n\t}, {\n\t\tquestionId: 2,\n\t\tquestionContent: \"문제 2 입니다.\",\n\t\tfullScore: 50\n\t}],\n\tmeta: {\n\t\tcreateAt: new Date(\"2021/02/14\"),\n\t\tmodifiedAt: new Date(\"2021/02/14\"),\n\t}\n}, {\n\tassignmentId: 3,\n\tprofessor: 1999999999,\n\tstudents: [2999999999, 2017920038, 2017920001],\n\tassignmentName: \"[이산수학]이산과제3\",\n\tassignmentInfo: \"이산수학 과제입니다.\",\n\tassignmentState: 3,\n\tpublishingTime: new Date(\"2021/02/14\"),\n\tdeadline: new Date(\"2021/02/14\"),\n\tquestions: [{\n\t\tquestionId: 1,\n\t\tquestionContent: \"문제 1입니당.\",\n\t\tfullScore: 50\n\t}, {\n\t\tquestionId: 2,\n\t\tquestionContent: \"문제 2 입니다.\",\n\t\tfullScore: 50\n\t}],\n\tmeta: {\n\t\tcreateAt: new Date(\"2021/02/14\"),\n\t\tmodifiedAt: new Date(\"2021/02/14\"),\n\t}\n}];\n*/\n\nconst SelectedState = createContext<number | undefined>(undefined);\nconst SelectedDispatch = createContext<Dispatch<number | undefined>>(() => { });\nconst SelectedAssignState = createContext<AssignmentObj | undefined>(undefined);\nconst AssignmentState = createContext<Array<AssignmentObj>>([]);\nconst AssignmentDispatch = createContext<Dispatch<Array<AssignmentObj>>>(() => { });\nconst FetchAssignment = createContext<() => void>(() => { });\nconst AddAssignment = createContext<(assign: AddAssignmentObj) => void>(() => { });\nconst UpdateAssignment = createContext<(assign: UpdateAssignmentObj) => void>(() => { });\nconst DeleteAssignment = createContext<(id: number) => void>(() => { });\n\n\nexport const AssignmentContextProvider = ({ children }: childrenObj) => {\n\tconst [selected, setSelected] = useState<number | undefined>(0);\n\t// 선택한 과제의 id 저장\n\t// 곳곳에서 && 줄이기 위해서 선택된 assignment를 context로 정의하는 것이 나음\n\tconst [selectedAssign, setSelectedAssign] = useState<AssignmentObj | undefined>(undefined);\n\tconst [assignment, setAssignment] = useState<Array<AssignmentObj>>([]);\n\n\tconst user = useUserState();\n\tconst history = useHistory();\n\n\tuseEffect(() => {\n\t\t// 처음에 user가 setting되면 assignment 목록 받아오기\n\t\tuser && fetchAssignment();\n\t}, [user]);\n\n\tuseEffect(() => {\n\t\tif(selected && assignment){\n\t\t\tassignment.forEach((as) => {\n\t\t\t\tif(as.assignmentId === selected){\n\t\t\t\t\tconsole.log(\"selected \" + selected)\n\t\t\t\t\tsetSelectedAssign(as);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t})\n\t\t}\n\t\telse\n\t\t\tsetSelectedAssign(undefined);\n\t}, [assignment, selected]);\n\n\n\tconst fetchAssignment = () => {\n\t\taxios.get('/v1/assignment', { withCredentials: true })\n\t\t\t.then(res => {\n\t\t\t\tsetAssignment(res.data);\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconst status = err?.response?.status;\n\t\t\t\tif (status === undefined) {\n\t\t\t\t\talert(\"과제 정보를 얻는 중 예기치 못한 오류가 발생하였습니다.\" );\n\t\t\t\t}\n\t\t\t\telse if (status === 400) {\n\t\t\t\t\talert(`과제 정보를 얻는데 실패하였습니다. 잘못된 요청입니다. (${status})`);\n\t\t\t\t}\n\t\t\t\telse if (status === 401) {\n\t\t\t\t\talert(`토큰이 유효하지 않습니다. (${status})`);\n\t\t\t\t\tdocument.cookie = \"access_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC;\";\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t}\n\t\t\t\telse if (status === 404) {\n\t\t\t\t\talert(\"과제를 찾을 수 없습니다.\");\n\t\t\t\t}\n\t\t\t\telse if (status === 500) {\n\t\t\t\t\talert(\"내부 서버 오류입니다. 잠시 후에 다시 시도해주세요...\");\n\t\t\t\t}\n\t\t\t\tsetAssignment([]);\n\t\t\t});\n\t}\n\n\tconst addAssignment = (assign: AddAssignmentObj) => {\n\t\taxios.post('/v1/assignment', { ...assign }, { withCredentials: true })\n\t\t\t.then(() => {\n\t\t\t\tfetchAssignment();\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconst status = err?.response?.status;\n\t\t\t\tif (status === undefined) {\n\t\t\t\t\talert(\"과제를 생성하는 중 예기치 못한 오류가 발생하였습니다.\");\n\t\t\t\t} else if (status === 400) {\n\t\t\t\t\talert(`과제 정보를 저장하는데 실패하였습니다. 잘못된 요청입니다. (${status})`);\n\t\t\t\t} else if (status === 401) {\n\t\t\t\t\talert(`토큰이 유효하지 않습니다. (${status})`);\n\t\t\t\t\tdocument.cookie = \"access_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC;\";\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t} else if (status === 403) {\n\t\t\t\t\talert(`과제 정보를 저장하는데 실패하였습니다. 권한이 없습니다. (${status})`);\n\t\t\t\t} else if (status === 404) {\n\t\t\t\t\talert(`과제 정보를 저장하는데 실패하였습니다. 과제를 찾을 수 없습니다. (${status})`);\n\t\t\t\t} else if (status === 500) {\n\t\t\t\t\talert(\"내부 서버 오류입니다. 잠시 후에 다시 시도해주세요...\");\n\t\t\t\t}\n\t\t\t\thistory.push(\"/home/setting\");\n\t\t\t})\n\t}\n\n\tconst updateAssignment = (assign: UpdateAssignmentObj) => {\n\t\taxios.put('/v1/assignment', { ...assign }, { withCredentials: true })\n\t\t\t.then(() => {\n\t\t\t\tfetchAssignment();\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconst status = err?.response?.status;\n\t\t\t\tif (status === undefined) {\n\t\t\t\t\talert(\"과제를 생성하는 중 예기치 못한 오류가 발생하였습니다.\");\n\t\t\t\t} else if (status === 400) {\n\t\t\t\t\talert(`과제 정보를 저장하는데 실패하였습니다. 잘못된 요청입니다. (${status})`);\n\t\t\t\t} else if (status === 401) {\n\t\t\t\t\talert(`토큰이 유효하지 않습니다. (${status})`);\n\t\t\t\t\tdocument.cookie = \"access_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC;\";\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t} else if (status === 403) {\n\t\t\t\t\talert(`과제 정보를 저장하는데 실패하였습니다. 권한이 없습니다. (${status})`);\n\t\t\t\t} else if (status === 500) {\n\t\t\t\t\talert(\"내부 서버 오류입니다. 잠시 후에 다시 시도해주세요...\");\n\t\t\t\t}\n\t\t\t\thistory.push(\"/home/setting\");\n\t\t\t})\n\t}\n\n\tconst deleteAssignment = (id: number) => {\n\t\taxios.delete(`/v1/assignment/${id}`, { withCredentials: true })\n\t\t\t.then(() => {\n\t\t\t\tfetchAssignment();\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconst status = err?.response?.status;\n\t\t\t\tif (status === undefined) {\n\t\t\t\t\talert(\"과제를 삭제하는 중 예기치 못한 오류가 발생하였습니다.\");\n\t\t\t\t} else if (status === 401) {\n\t\t\t\t\talert(`토큰이 유효하지 않습니다. (${status})`);\n\t\t\t\t\tdocument.cookie = \"access_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC;\";\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t}\n\t\t\t\telse if (status === 403) {\n\t\t\t\t\talert(`과제를 삭제하는데 실패하였습니다. 권한이 없습니다. (${status})`);\n\t\t\t\t}\n\t\t\t\telse if (status === 500) {\n\t\t\t\t\talert(\"내부 서버 오류입니다. 잠시 후에 다시 시도해주세요...\");\n\t\t\t\t}\n\t\t\t\thistory.push(\"/home\");\n\t\t\t})\n\t}\n\n\t// todo : 필요한 함수 추가\n\n\treturn (\n\t\t<AssignmentState.Provider value={assignment}>\n\t\t\t<AssignmentDispatch.Provider value={setAssignment}>\n\t\t\t\t<FetchAssignment.Provider value={fetchAssignment}>\n\t\t\t\t\t<AddAssignment.Provider value={addAssignment}>\n\t\t\t\t\t\t<UpdateAssignment.Provider value={updateAssignment}>\n\t\t\t\t\t\t\t<DeleteAssignment.Provider value={deleteAssignment}>\n\t\t\t\t\t\t\t\t<SelectedDispatch.Provider value={setSelected}>\n\t\t\t\t\t\t\t\t\t<SelectedState.Provider value={selected}>\n\t\t\t\t\t\t\t\t\t\t<SelectedAssignState.Provider value={selectedAssign}>\n\t\t\t\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t\t\t\t</SelectedAssignState.Provider>\n\t\t\t\t\t\t\t\t\t</SelectedState.Provider>\n\t\t\t\t\t\t\t\t</SelectedDispatch.Provider>\n\t\t\t\t\t\t\t</DeleteAssignment.Provider>\n\t\t\t\t\t\t</UpdateAssignment.Provider>\n\t\t\t\t\t</AddAssignment.Provider>\n\t\t\t\t</FetchAssignment.Provider>\n\t\t\t</AssignmentDispatch.Provider>\n\t\t</AssignmentState.Provider>\n\t);\n}\n\nexport function useAssignmentState() {\n\tconst context = useContext(AssignmentState);\n\treturn context;\n}\n\nexport function useAssignmentDispatch() {\n\tconst context = useContext(AssignmentDispatch);\n\treturn context;\n}\n\nexport function useSelectedState() {\n\tconst context = useContext(SelectedState);\n\treturn context;\n}\n\nexport function useSelectedDispatch() {\n\tconst context = useContext(SelectedDispatch);\n\treturn context;\n}\n\nexport function useSelectedAssignState() {\n\tconst context = useContext(SelectedAssignState);\n\treturn context;\n}\n\nexport function useFetchAssignment() {\n\tconst context = useContext(FetchAssignment);\n\treturn context;\n}\n\nexport function useAddAssignment() {\n\tconst context = useContext(AddAssignment);\n\treturn context;\n}\n\nexport function useUpdateAssignment() {\n\tconst context = useContext(UpdateAssignment);\n\treturn context;\n}\n\nexport function useDeleteAssignment() {\n\tconst context = useContext(DeleteAssignment);\n\treturn context;\n}","import React, {\n\tcreateContext, useContext, useState, Dispatch, useEffect\n} from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\nimport { AnswerObj, childrenObj, QuestionAnswerObj } from '../Type';\n\nimport { useUserState } from './UserModel';\nimport { useSelectedAssignState } from './AssignmentModel';\n\n/* answer */\n\nconst AnswerState = createContext<QuestionAnswerObj[]>([]);\nconst AnswerDispatch = createContext<Dispatch<QuestionAnswerObj[]>>(() => { });\nconst SaveAnswer = createContext<(answer : Array<AnswerObj>) => void>(() => { });\n\nexport const AnswerContextProvider = ({ children }: childrenObj) => {\n\tconst [answer, setAnswer] = useState<QuestionAnswerObj[]>([]);\n\tconst user = useUserState();\n\tconst selectedAssign = useSelectedAssignState();\n\tconst history = useHistory();\n\n\tuseEffect(() => {\n\t\t// select된 과제가 바뀌면 answer 바꾸기\n\t\tselectedAssign &&\n\t\tfetchAnswer();\n\t}, [user, selectedAssign]);\n\n\tconst fetchAnswer = async () => {\n\t\tconsole.log(\"fetchAnswer\");\n\n\t\tif(!(selectedAssign && user)){\n\t\t\tsetAnswer([]);\n\t\t\treturn;\t\n\t\t}\n\n\t\taxios.get(`/v1/answer/${selectedAssign.assignmentId}`, { withCredentials: true })\n\t\t\t.then(res => {\n\t\t\t\tconsole.log(res.data);\n\t\t\t\tsetAnswer(res.data);\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconst status = err?.response?.status;\n\t\t\t\tif (status === undefined) {\n\t\t\t\t\talert(\"답안 정보를 얻는 중 예기치 못한 오류가 발생하였습니다.\" );\n\t\t\t\t}\n\t\t\t\telse if (status === 400) {\n\t\t\t\t\talert(`답안 정보를 얻는데 실패하였습니다. 잘못된 요청입니다. (${status})`);\n\t\t\t\t}\n\t\t\t\telse if (status === 401) {\n\t\t\t\t\talert(`토큰이 유효하지 않습니다. (${status})`);\n\t\t\t\t\tdocument.cookie = \"access_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC;\";\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t}\n\t\t\t\telse if (status === 404) {\n\t\t\t\t\talert(\"답안을 찾을 수 없습니다.\");\n\t\t\t\t}\n\t\t\t\telse if (status === 500) {\n\t\t\t\t\talert(\"내부 서버 오류입니다. 잠시 후에 다시 시도해주세요...\");\n\t\t\t\t}\n\t\t\t\tsetAnswer([]);\n\t\t\t});\n\t}\n\n\tconst saveAnswer = (ans : Array<AnswerObj>) => {\n\t\tconsole.log(\"saveAnswer\");\n\n\t\tif(!(selectedAssign && user)){\n\t\t\tconsole.log(\"set answer undefined in model\");\n\t\t\tsetAnswer([]);\n\t\t\treturn;\n\t\t}\n\t\tif(user.type === 'student') {\n\t\t\taxios.post(`/v1/answer/${selectedAssign.assignmentId}`, {\n\t\t\t\tanswers : ans\n\t\t\t}, { withCredentials: true })\n\t\t\t\t.then(res => {\n\t\t\t\t\tconsole.log(res);\n\t\t\t\t\tsetAnswer([res.data]);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconst status = err?.response?.status;\n\t\t\t\t\tif (status === undefined) { \n\t\t\t\t\t\talert(\"과제 정보를 얻는 중 예기치 못한 예외가 발생하였습니다. (Main.js)\\n\" + JSON.stringify(err));\n\t\t\t\t\t}\n\t\t\t\t\telse if (status === 400) {\n\t\t\t\t\t\talert(`과제 정보를 얻는데 실패하였습니다. 잘못된 요청입니다. (${status})`);\n\t\t\t\t\t}\n\t\t\t\t\telse if (status === 401) {\n\t\t\t\t\t\talert(`토큰이 유효하지 않습니다. (${status})`);\n\t\t\t\t\t\tdocument.cookie = \"access_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC;\";\n\t\t\t\t\t\t// window.location.href = `${window.location.origin}`;\n\t\t\t\t\t}\n\t\t\t\t\telse if (status === 404) {\n\t\t\t\t\t\t// 단순히 입력한 답안이 없는 경우이므로 오류는 아님.\n\t\t\t\t\t\t// api 수정 필요\n\t\t\t\t\t}\n\t\t\t\t\telse if (status === 500) {\n\t\t\t\t\t\talert(\"내부 서버 오류입니다. 잠시 후에 다시 시도해주세요...\");\n\t\t\t\t\t}\n\t\t\t\t\tsetAnswer([]);\n\t\t\t\t});\n\t\t}\n\t\telse { // 채점\n\t\t\tconsole.log(ans);\n\t\t\taxios.post(`/v1/answer/${selectedAssign.assignmentId}`, {\n\t\t\t\tanswers : ans\n\t\t\t}, { withCredentials: true })\n\t\t\t\t.then((res) => {\n\t\t\t\t\tconsole.log(res.data);\n\t\t\t\t\tsetAnswer(res.data);\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconst status = err?.response?.status;\n\t\t\t\t\tif (status === undefined) { \n\t\t\t\t\t\talert(\"과제 정보를 얻는 중 예기치 못한 예외가 발생하였습니다. (Main.js)\\n\" + JSON.stringify(err));\n\t\t\t\t\t}\n\t\t\t\t\telse if (status === 400) {\n\t\t\t\t\t\talert(`과제 정보를 얻는데 실패하였습니다. 잘못된 요청입니다. (${status})`);\n\t\t\t\t\t}\n\t\t\t\t\telse if (status === 401) {\n\t\t\t\t\t\talert(`토큰이 유효하지 않습니다. (${status})`);\n\t\t\t\t\t\tdocument.cookie = \"access_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC;\";\n\t\t\t\t\t// window.location.href = `${window.location.origin}`;\n\t\t\t\t\t}\n\t\t\t\t\telse if (status === 404) {\n\t\t\t\t\t// 단순히 입력한 답안이 없는 경우이므로 오류는 아님.\n\t\t\t\t\t// api 수정 필요\n\t\t\t\t\t}\n\t\t\t\t\telse if (status === 500) {\n\t\t\t\t\t\talert(\"내부 서버 오류입니다. 잠시 후에 다시 시도해주세요...\");\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\n\t\t}\n\t}\n\n\treturn (\n\t\t<AnswerState.Provider value={answer}>\n\t\t\t<AnswerDispatch.Provider value={setAnswer}>\n\t\t\t\t<SaveAnswer.Provider value={saveAnswer}>\n\t\t\t\t\t{children}\n\t\t\t\t</SaveAnswer.Provider>\n\t\t\t</AnswerDispatch.Provider>\n\t\t</AnswerState.Provider>\n\t);\n}\n\nexport function useAnswerState() {\n\tconst context = useContext(AnswerState);\n\treturn context;\n}\n\nexport function useAnswerDispatch() {\n\tconst context = useContext(AnswerDispatch);\n\treturn context;\n}\n\nexport function saveAnswer() {\n\tconst context = useContext(SaveAnswer);\n\treturn context;\n}\n\n","import React, {\n\tcreateContext, useContext, useState, Dispatch, useEffect\n} from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\nimport { childrenObj, GroupObj, RequestGroupObj } from '../Type';\nimport { useUserState } from './UserModel';\n\n/* group */\n\nconst GroupState = createContext<Array<GroupObj>>([]);\nconst GroupDispatch = createContext<Dispatch<Array<GroupObj>>>(() => { });\nconst FetchGroup = createContext<() => void>(()=>{});\nconst SaveGroup = createContext<(group : RequestGroupObj) => void>(()=>{});\nconst DeleteGroup = createContext<(groupId : number) => void>(()=>{});\n\n\nexport const GroupContextProvider = ({ children }: childrenObj) => {\n\tconst [group, setGroup] = useState<Array<GroupObj>>([]);\n\tconst user = useUserState();\n\tconst history = useHistory();\n\n\tuseEffect(()=>{\n\t\t// professor만 group setting\n\t\tif(user && user.type === 'professor')\n\t\t\tfetchGroup();\n\t\telse\n\t\t\tsetGroup([]);\n\t}, [user]);\n\n\tconst fetchGroup = () => {\n\t\taxios.get('/v1/student', { withCredentials: true })\n\t\t\t.then(res => {\n\t\t\t\tsetGroup(res.data);\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconst status = err?.response?.status;\n\t\t\t\tif (status === undefined) {\n\t\t\t\t\talert(\"그룹 정보를 얻는 중 예기치 못한 오류가 발생하였습니다.\" );\n\t\t\t\t}\n\t\t\t\telse if (status === 400) {\n\t\t\t\t\talert(`그룹 정보를 얻는데 실패하였습니다. 잘못된 요청입니다. (${status})`);\n\t\t\t\t}\n\t\t\t\telse if (status === 401) {\n\t\t\t\t\talert(`토큰이 유효하지 않습니다. (${status})`);\n\t\t\t\t\tdocument.cookie = \"access_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC;\";\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t}\n\t\t\t\telse if (status === 404) {\n\t\t\t\t\talert(\"그룹을 찾을 수 없습니다.\");\n\t\t\t\t}\n\t\t\t\telse if (status === 500) {\n\t\t\t\t\talert(\"내부 서버 오류입니다. 잠시 후에 다시 시도해주세요...\");\n\t\t\t\t}\n\t\t\t\tsetGroup([]);\n\t\t\t});\n\t}\n\n\tconst saveGroup = (group : RequestGroupObj) => {\n\t\taxios.post('/v1/student', {\n\t\t\t...group\n\t\t}, { withCredentials: true })\n\t\t\t.then(res => {\n\t\t\t\tfetchGroup();\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconst status = err?.response?.status;\n\t\t\t\tif (status === undefined) {\n\t\t\t\t\talert(\"그룹 정보를 저장하던 중 예기치 못한 오류가 발생하였습니다.\" );\n\t\t\t\t}\n\t\t\t\telse if (status === 400) {\n\t\t\t\t\talert(`그룹 정보를 저장하는데에 실패하였습니다. 잘못된 요청입니다. (${status})`);\n\t\t\t\t}\n\t\t\t\telse if (status === 401) {\n\t\t\t\t\talert(`토큰이 유효하지 않습니다. (${status})`);\n\t\t\t\t\tdocument.cookie = \"access_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC;\";\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t}\n\t\t\t\telse if (status === 404) {\n\t\t\t\t\talert(\"그룹을 저장할 수 없습니다.\");\n\t\t\t\t}\n\t\t\t\telse if (status === 500) {\n\t\t\t\t\talert(\"내부 서버 오류입니다. 잠시 후에 다시 시도해주세요...\");\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\tconst deleteGroup = (groupId : number) => {\n\t\taxios.delete(`/v1/student/${groupId}`, { withCredentials: true })\n\t\t\t.then(() => {\n\t\t\t\tfetchGroup();\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconst status = err?.response?.status;\n\t\t\t\tif (status === undefined) {\n\t\t\t\t\talert(\"그룹 정보를 삭제하던 중 예기치 못한 오류가 발생하였습니다.\" );\n\t\t\t\t}\n\t\t\t\telse if (status === 400) {\n\t\t\t\t\talert(`그룹 정보를 삭제하는 데에 실패하였습니다. 잘못된 요청입니다. (${status})`);\n\t\t\t\t}\n\t\t\t\telse if (status === 401) {\n\t\t\t\t\talert(`토큰이 유효하지 않습니다. (${status})`);\n\t\t\t\t\tdocument.cookie = \"access_token=; expires=Thu, 01 Jan 1970 00:00:00 UTC;\";\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t}\n\t\t\t\telse if (status === 404) {\n\t\t\t\t\talert(\"그룹을 삭제할 수 없습니다.\");\n\t\t\t\t}\n\t\t\t\telse if (status === 500) {\n\t\t\t\t\talert(\"내부 서버 오류입니다. 잠시 후에 다시 시도해주세요...\");\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\treturn (\n\t\t<GroupState.Provider value={group}>\n\t\t\t<GroupDispatch.Provider value={setGroup}>\n\t\t\t\t<FetchGroup.Provider value={fetchGroup}>\n\t\t\t\t\t<SaveGroup.Provider value={saveGroup}>\n\t\t\t\t\t\t<DeleteGroup.Provider value={deleteGroup}>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</DeleteGroup.Provider>\n\t\t\t\t\t</SaveGroup.Provider>\n\t\t\t\t</FetchGroup.Provider>\n\t\t\t</GroupDispatch.Provider>\n\t\t</GroupState.Provider>\n\t);\n}\n\nexport function useGroupState() {\n\tconst context = useContext(GroupState);\n\treturn context;\n}\n\nexport function useGroupDispatch() {\n\tconst context = useContext(GroupDispatch);\n\treturn context;\n}\n\nexport function fetchGroup() {\n\tconst context = useContext(FetchGroup);\n\treturn context;\n}\n\nexport function useSaveGroup() {\n\tconst context = useContext(SaveGroup);\n\treturn context;\n}\n\nexport function useDeleteGroup() {\n\tconst context = useContext(DeleteGroup);\n\treturn context;\n}","import React, {\n\tcreateContext, Dispatch, useContext, useEffect, useState\n} from 'react';\nimport axios from 'axios';\n\nimport { childrenObj, MessageObj } from '../Type';\n\nconst MessageState = createContext<string>(\"\");\nconst MessageDispatch = createContext<Dispatch<string>>(() => { });\nconst OnOffState = createContext<boolean>(false);\nconst OnOffDispatch = createContext<Dispatch<boolean>>(() => { });\nconst SaveMessage = createContext<(msg: string, onff: boolean) => void>(() => { });\n\nexport const MessageContextProvider = ({ children }: childrenObj) => {\n\tconst [message, setMessage] = useState<string>(\"\");\n\tconst [onOff, setOnOff] = useState<boolean>(false);\n\n\tconst fetchMSG = () => {\n\t\taxios.get(\"/v1/message\")\n\t\t\t.then(res => {\n\t\t\t\tsetMessage(res.data.message);\n\t\t\t\tsetOnOff(res.data.onOff);\n\t\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconst status = err?.response?.status;\n\t\t\t\tif (status === undefined) {\n\t\t\t\t\talert(\"그룹 정보를 얻는 중 예기치 못한 예외가 발생하였습니다. (Main.js)\\n\" + JSON.stringify(err));\n\t\t\t\t}\n\t\t\t\telse if (status === 404) {\n\t\t\t\t\talert(\"메세지를 찾을 수 없습니다. 직접 생성해주세요.\");\n\t\t\t\t}\n\t\t\t});\n\t};\n\n\tuseEffect(() => {\n\t\t// 처음에 메세지 받아오기\n\t\tfetchMSG();\n\t}, [])\n\n\tconst saveMessage = (msg: string, onff: boolean) => {\n\t\taxios.post(\"/v1/message\", {\n\t\t\tmessage: msg,\n\t\t\tonOff: onff\n\t\t}).then(res => {\n\t\t\tconst data : MessageObj = res.data;\n\t\t\tsetMessage(data.message);\n\t\t\tsetOnOff(data.onOff);\n\t\t})\n\t\t\t.catch(err => {\n\t\t\t\tconst status = err?.response?.status;\n\t\t\t\tif (status === undefined) {\n\t\t\t\t\talert(\"그룹 정보를 얻는 중 예기치 못한 예외가 발생하였습니다. (Main.js)\\n\" + JSON.stringify(err));\n\t\t\t\t}\n\t\t\t\telse if (status === 404) {\n\t\t\t\t\talert(\"메세지를 찾을 수 없습니다. 직접 생성해주세요.\");\n\t\t\t\t}\n\t\t\t});\n\t}\n\n\treturn (\n\t\t<MessageState.Provider value={message}>\n\t\t\t<MessageDispatch.Provider value={setMessage}>\n\t\t\t\t<OnOffState.Provider value={onOff}>\n\t\t\t\t\t<OnOffDispatch.Provider value={setOnOff}>\n\t\t\t\t\t\t<SaveMessage.Provider value={saveMessage}>\n\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t</SaveMessage.Provider>\n\t\t\t\t\t</OnOffDispatch.Provider>\n\t\t\t\t</OnOffState.Provider>\n\t\t\t</MessageDispatch.Provider>\n\t\t</MessageState.Provider>\n\t);\n}\n\nexport function useMessageState() {\n\tconst context = useContext(MessageState);\n\treturn context;\n}\nexport function useMessageDispatch() {\n\tconst context = useContext(MessageDispatch);\n\treturn context;\n}\nexport function useOnOffState() {\n\tconst context = useContext(OnOffState);\n\treturn context;\n}\nexport function useOnOffDispatch() {\n\tconst context = useContext(OnOffDispatch);\n\treturn context;\n}\nexport function saveMessage() {\n\tconst context = useContext(SaveMessage);\n\treturn context;\n}\n\n","import React, { useEffect, useState } from 'react';\nimport axios from \"axios\";\nimport crypto from 'crypto';\nimport { useHistory } from \"react-router-dom\";\nimport { withCookies, Cookies } from 'react-cookie';\n\nimport { Grid, TextField, Button, Typography, Paper, Link, Checkbox, FormControlLabel, Divider, hslToRgb } from '@material-ui/core';\n\nimport { getHashedPw, getUserInfo } from '../utils';\nimport { useUserState, useUserDispatch} from '../Main/Model/UserModel';\nimport { useAssignmentDispatch } from '../Main/Model/AssignmentModel';\n\ntype Props = {\n\tcookies: Cookies;\n}\nconst Login: React.FunctionComponent<Props> = (props) => {\n\tconst [cookies, setCookies] = useState<any>(props.cookies);\n\tconst [id, setId] = useState<string>(\"\");\n\tconst [pw, setPw] = useState<string>(\"\");\n\tconst [btnText, setBtnText] = useState<string>(\"LOGIN\");\n\tconst [checked, setChecked] = useState<boolean>(false);\n\tconst history = useHistory();\n\tconst user = useUserState();\n\tconst setUser = useUserDispatch(); // dispatch => setUser\n\tconst asDispatch = useAssignmentDispatch();\n\n\tuseEffect(() => {\n\t\t// 이미 user가 설정되어있으면 main으로\n\t\tuser && history.replace('/main');\n\t},[user]);\n\n\tuseEffect(() => {\n\t\t// cookie에 저장되어있는 아이디 불러오기 (자동 로그인)\n\t\tif (cookies) {\n\t\t\tconst savedId = cookies.get(\"savedId\");\n\t\t\tif (savedId) {\n\t\t\t\tsetId(String(savedId));\n\t\t\t\tsetChecked(true);\n\t\t\t}\n\t\t} else {\n\t\t\tsetCookies(props.cookies);\n\t\t}\n\t}, [props.cookies]);\n\n\tconst loginAsTestProfessorCookie = async () => {\n\t\ttry {\n\t\t\tconst result = await axios.get('/v1/cookieTest', { withCredentials: true });\n\t\t\tif(result.status === 200) {\n\t\t\t\tsetUser(getUserInfo());\n\t\t\t\thistory.replace('/main');\n\t\t\t}\n\t\t} catch(err) {\n\t\t\talert(\"내부 서버 오류입니다. 잠시만 기다려주세요.\");\n\t\t}\n\t};\n\n\tconst loginAsTestStudentCookie = async () => { \n\t\ttry {\n\t\t\tconst result = await axios.get('/v1/cookieTestB', { withCredentials: true });\n\t\t\tif(result.status === 200) {\n\t\t\t\tsetUser(getUserInfo());\n\t\t\t\thistory.replace('/main');\n\t\t\t}\n\t\t} catch(err) {\n\t\t\talert(\"내부 서버 오류입니다. 잠시만 기다려주세요.\");\n\t\t}\n\t};\n\n\tconst handleLoginSubmit = async (e: React.FormEvent) => {\n\t\te.preventDefault();\n\t\tsetBtnText(\"로그인 중...\");\n\t\tconst hashedPw = getHashedPw(pw);\n\n\t\ttry {\n\t\t\tconst result = await axios.post('/v1/login', {\n\t\t\t\tuserId: id,\n\t\t\t\tuserPw: hashedPw,\n\t\t\t}, { withCredentials: true});\n\n\t\t\tif(result) {\n\t\t\t\t// set the cookie if user checked save id\n\t\t\t\tchecked ? cookies.set(\"savedId\", id, { path: '/'}) : cookies.remove(\"savedId\", { path: '/'});\n\t\t\t\tconst u = getUserInfo();\n\t\t\t\tif (u) { // cookie에 유저 존재\n\t\t\t\t\tsetUser(u);\n\t\t\t\t}\n\t\t\t\thistory.replace('/main');\n\t\t\t\t\n\t\t\t\t/*\n\t\t\t\tuser setting되면 자동으로 useEffect 호출됨\n\t\t\t\t// set assignment when user login\n\t\t\t\tasDispatch({\n\t\t\t\t\ttype: 'FETCH'\n\t\t\t\t});\n\t\t\t\t*/\n\t\t\t}\n\t\t} catch(err) {\n\t\t\tconst { status } = err.response;\n\t\t\tif(!status) {\n\t\t\t\talert(\"로그인 하는 중 예기치 못한 예외가 발생하였습니다.\\n\" + JSON.stringify(err));\n\t\t\t}\n\t\t\telse if(status === 400) {\n\t\t\t\talert(\"아이디, 패스워드가 기입되었는지 다시 한 번 확인해주세요.\");\n\t\t\t}\n\t\t\telse if(status === 403) {\n\t\t\t\talert(\"아이디, 패스워드가 정확히 기입되었는지 다시 한 번 확인해주세요.\");\n\t\t\t}\n\t\t\telse if(status >= 500) {\n\t\t\t\talert(\"내부 서버 오류입니다. 잠시만 기다려주세요.\");\n\t\t\t}\n\t\t\tsetBtnText('Login');\n\t\t}\n\t}\n\n\treturn (\n\t\t<div className=\"Login\">\n\t\t\t<Paper elevation={3} className=\"login_paper\">\n\t\t\t\t<Grid container alignItems=\"center\" justify=\"center\" className=\"login_container\" direction=\"column\">\n\t\t\t\t\t<div className=\"login_logo\"><img src=\"./img/logo_new.png\"></img></div>\n\t\t\t\t\t<Typography className=\"login_subtitle\" variant=\"caption\">서울시립대학교 컴퓨터과학부 과제 제출 플랫폼</Typography>\n\n\t\t\t\t\t<div className=\"login_sign\">\n\t\t\t\t\t\t<Link href=\"https://rabums.csuos.ml/\">RABUMS</Link>\n\t\t\t\t\t\t<Typography variant=\"subtitle1\">계정으로 로그인하세요.</Typography>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<form className=\"login__form\" onSubmit={handleLoginSubmit}>\n\t\t\t\t\t\t<TextField variant=\"outlined\" id=\"userId\" label=\"RABUMS ID\" required rows={1} rowsMax={10} onChange={(e) => setId(e.target.value)} value={id} />\n\t\t\t\t\t\t<TextField variant=\"outlined\" id=\"userPw\" label=\"RABUMS PW\" type=\"password\" required rows={1} rowsMax={10} onChange={(e) =>  setPw(e.target.value)} value={pw} />\n\t\t\t\t\t\t<FormControlLabel control={\n\t\t\t\t\t\t\t<Checkbox checked={checked} onChange={(e) => { setChecked(e.target.checked) }} color=\"secondary\"></Checkbox>\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlabel=\"아이디 저장\"\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<div className=\"regiter_sign\">\n\t\t\t\t\t\t\t<Link href=\"https://rabums.csuos.ml/register\">RABUMS 계정이 없으신가요?</Link>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Button className=\"login_button\" size=\"large\" variant=\"outlined\" type=\"submit\">{btnText}</Button>\n\t\t\t\t\t</form>\n\t\t\t\t\t<div className=\"login_divider\">\n\t\t\t\t\t\t<Divider orientation=\"horizontal\" variant=\"middle\"></Divider>\n\t\t\t\t\t</div>\n\n\t\t\t\t\t<Typography variant=\"subtitle2\">회원가입하지 않고 체험용 계정으로 로그인할 수 있습니다!</Typography>\n\n\t\t\t\t\t<Grid>\n\t\t\t\t\t\t<Button className=\"login_test\" variant=\"outlined\" onClick={loginAsTestProfessorCookie}>교수 계정 체험</Button>\n\t\t\t\t\t\t<Button className=\"login_test\" variant=\"outlined\" onClick={loginAsTestStudentCookie}>학생 계정 체험</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Paper>\n\t\t</div>\n\t)\n};\n\nexport default withCookies(Login);\n","import React, { ReactNode } from 'react';\nimport clsx from 'clsx';\n\nimport { Grid, SvgIcon, Typography } from '@material-ui/core';\n\nimport { isStringBlank } from '../utils/checkString';\n\ntype Props = {\n\tclassName?: string; \n\ticon: string;\n\tmainTitle: string;\n\tsubTitle?: string;\n\tinformation?: ReactNode;\n\trightSide?: ReactNode;\n}\n\nconst PageInfo: React.FunctionComponent<Props> = ({className, icon, mainTitle, subTitle, information, rightSide}) => (\n\t<Grid className={clsx(\"page-info\", className)}>\n\t\t<Grid className=\"page-info-con\">\n\t\t\t<Grid className=\"page-title-con\">\n\t\t\t\t<Typography className=\"icon\" variant=\"h2\">{icon}</Typography>\n\t\t\t\t<Grid className=\"title\">\n\t\t\t\t\t<Typography variant=\"h3\">{mainTitle}</Typography>\n\t\t\t\t\t<Typography variant=\"h6\">{subTitle}</Typography>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t{\n\t\t\t\trightSide &&\n\t\t\t\t<Grid className=\"right-side\">\n\t\t\t\t\t{rightSide}\n\t\t\t\t</Grid>\n\t\t\t}\n\t\t</Grid>\n\t\t{information && <Grid item className=\"page-information\">{information}</Grid>}\n\t</Grid>\n)\n\nexport default PageInfo;","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport clsx from 'clsx';\n\nimport { Grid, Paper } from '@material-ui/core';\n\ntype Props = {\n\ttype: string;\n\tasInfo: any; // asInfo: Assignment;\n\tstate: {\n\t\tstudentState: string,\n\t\tprofessorState: string,\n\t\tcolor: string\n\t}\n}\nconst AssignmentBox: React.FunctionComponent<Props> = ({type, asInfo, state}) => {\n\tconst date = new Date(asInfo.deadline);\n\tconst deadline = date.getFullYear() + \"-\"  + (date.getMonth()+1 <= 9 ? \"0\" : \"\") + (date.getMonth()+1) + \"-\" + (date.getDate() <= 9 ? \"0\" : \"\") + date.getDate() + \" \" + (date.getHours() <= 9 ? \"0\" : \"\") + date.getHours() + \":\" + (date.getMinutes() <= 9 ? \"0\" : \"\") + date.getMinutes()\n\n\treturn (\n\t\t<Link to ={`/as/${asInfo.assignmentId}`}>\n\t\t\t<Paper className=\"assignment-box\" elevation={3}>\n\t\t\t\t<Grid className=\"a-box-header\">\n\t\t\t\t\t<Grid className=\"a-box-title\">{asInfo.assignmentName}</Grid>\n\t\t\t\t\t<Grid className={clsx(state.color, \"color\")}>{type === 'professor' ? state.professorState : state.studentState}</Grid>\n\t\t\t\t</Grid>\t\n\t\t\t\t<Grid className=\"a-box-deadline\">{deadline} 까지</Grid>\n\t\t\t</Paper>\n\t\t</Link>\n\t)\n}\n\nexport default AssignmentBox;\n","import React, { useEffect, useState } from 'react';\n\nimport { Grid } from '@material-ui/core';\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\n\nimport PageInfo from '../Components/PageInfo';\nimport AssignmentBox from '../Components/AssignmentBox';\n\nimport { useUserState } from '../Main/Model/UserModel';\nimport { useAssignmentState } from '../Main/Model/AssignmentModel';\nimport { SortedAssignObj } from '../Main/Type';\nimport { getColorState, getSortedAssign } from '../utils';\n\n// Main 페이지\ntype Props = {\n\n}\nconst Main: React.FunctionComponent<Props> = () => {\n\tconst user = useUserState();\n\tconst assignments = useAssignmentState();\n\tconst [sortedAssign, setSortedAssign] = useState<SortedAssignObj>([[],[],[],[]]);\n\n\tuseEffect(() => {\n\t\tassignments && user &&\n\t\tsetSortedAssign(getSortedAssign(assignments, user.type));\n\t}, [assignments]);\n\t\n\treturn (\n\t\t<>\n\t\t\t{(user) &&\n\t\t\t<Grid container direction=\"column\">\n\t\t\t\t<PageInfo \n\t\t\t\t\ticon={user.type === 'professor' ? \"👨🏻‍💼\" :\"👩🏻‍💻\"}\n\t\t\t\t\tmainTitle={user.userName}\n\t\t\t\t\tsubTitle={user.type === 'professor' ? `교수 / ${user.userNumber}` : `학생 / ${user.userNumber} / ${user.major}`}\n\t\t\t\t\tinformation={<p>좌측 사이드바 또는 아래 목록에서 확인하려는 과제를 선택하세요.</p>}\n\t\t\t\t/>\n\t\t\t\t<Grid container direction=\"column\" className=\"contents-container\">\n\t\t\t\t\t{\n\t\t\t\t\t\tsortedAssign && user &&\n\t\t\t\t\t\tsortedAssign.map((_, index : number) => \n\t\t\t\t\t\t\t( index === 0 || index === 1 ) &&\n\t\t\t\t\t\t\t<Grid key={index}>\n\t\t\t\t\t\t\t\t<Grid className=\"contents-title\">\n\t\t\t\t\t\t\t\t\t<h6>{user.type === 'professor' ? getColorState(index).professorState : getColorState(index).studentState}</h6>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Grid className=\"assignment-rootbox\">\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tsortedAssign[index].map((as) =>\t\n\t\t\t\t\t\t\t\t\t\t\t<AssignmentBox \n\t\t\t\t\t\t\t\t\t\t\t\tkey={as.assignmentId}\n\t\t\t\t\t\t\t\t\t\t\t\ttype={user.type}\n\t\t\t\t\t\t\t\t\t\t\t\tasInfo={as}\n\t\t\t\t\t\t\t\t\t\t\t\tstate={getColorState(index)}\n\t\t\t\t\t\t\t\t\t\t\t/>)\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t}\n\t\t</>\n\t);\n}\n\nexport default Main;\n","import React, { useEffect, useState, createRef } from 'react';\n\nimport { Grid, Toolbar, Badge } from \"@material-ui/core\";\nimport { Alert, AlertTitle } from '@material-ui/lab';\nimport MailIcon from '@material-ui/icons/Mail';\nimport CancelIcon from '@material-ui/icons/Cancel';\n\nimport { Header, SideBar } from '.';\nimport { useUserState } from '../Main/Model/UserModel';\nimport { useOnOffState, useMessageState } from '../Main/Model/MessageModel';\n\nconst Layout: React.FC = ({ children }) => {\n\tconst [open, useOpen] = useState<boolean>(true);\n\tconst [alertOpen, setAlertOpen] = useState<boolean>(false); // badge를 누를 때 alert가 3초간 오픈 되도록\n\tconst [clearTime, setClearTime] = useState<NodeJS.Timeout | undefined>(undefined);\n\n\tconst onOff = useOnOffState();\n\tconst message = useMessageState();\n\n\tconst user = useUserState();\n\tconst mobileRef = createRef<HTMLDivElement>();\n\n\tconst onAlert = async () => {\n\t\t// 5초 후에 꺼짐\n\t\tawait setAlertOpen(true);\n\t\tawait setClearTime(setTimeout(() => setAlertOpen(false), 3000000));\n\t};\n\n\tconst handleCloseAlert = async () => {\n\t\t// 수동으로 껐을 때, timeOut도 해지\n\t\tif (clearTime)\n\t\t\tawait clearTimeout(clearTime);\n\t\tawait setAlertOpen(false);\n\t\tawait setClearTime(undefined);\n\t}\n\n\tuseEffect(() => {\n\t\t// routing 변경 시마다 open 해지 => 모바일 떄문에\n\t\tif (mobileRef.current && mobileRef.current.offsetWidth < 768) {\n\t\t\t// 모바일이면 페이지 이동 시마다 sidebar 닫기\n\t\t\tuseOpen(false);\n\t\t}\n\t}, [window.location.href]);\n\n\treturn (\n\t\t<Grid id=\"page-con\">\n\t\t\t<div className=\"mobile-check\" ref={mobileRef} />\n\t\t\t{\n\t\t\t\tuser &&\n\t\t\t\t\t<>\n\t\t\t\t\t\t<SideBar\n\t\t\t\t\t\t\tclasses={open ? \"open-sidebar\" : \"close-sidebar\"}\n\t\t\t\t\t\t\tuseOpen={useOpen}\n\t\t\t\t\t\t\tuserType={user.type}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Grid id=\"wrap\">\n\t\t\t\t\t\t\t<Header\n\t\t\t\t\t\t\t\topen={open}\n\t\t\t\t\t\t\t\tuseOpen={useOpen}\n\t\t\t\t\t\t\t\tuserName={user.userName}\n\t\t\t\t\t\t\t\tuserType={user.type}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Toolbar className=\"back-margin\" />\n\t\t\t\t\t\t\t<Grid className=\"content-wrap\">\n\t\t\t\t\t\t\t\t{children}\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tonOff &&\n\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\talertOpen ?\n\t\t\t\t\t\t\t\t\t\t<Alert id=\"alert\" severity=\"info\">\n\t\t\t\t\t\t\t\t\t\t\t<AlertTitle className=\"title\">\n\t\t\t\t\t\t\t\t\t\t\t\t공지사항\n\t\t\t\t\t\t\t\t\t\t\t\t<CancelIcon color=\"primary\" onClick={handleCloseAlert} />\n\t\t\t\t\t\t\t\t\t\t\t</AlertTitle>\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"info\">{message}</p>\n\t\t\t\t\t\t\t\t\t\t</Alert> :\n\t\t\t\t\t\t\t\t\t\t<Badge id=\"badge\" color=\"secondary\" variant=\"dot\" onClick={onAlert}>\n\t\t\t\t\t\t\t\t\t\t\t<MailIcon />\n\t\t\t\t\t\t\t\t\t\t</Badge>\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t}\n\t\t\t\t\t</>\n\t\t\t}\n\t\t</Grid>\n\t);\n};\n\nexport default Layout;","import React from 'react';\nimport clsx from 'clsx';\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { Grid, Slide, Toolbar, IconButton, useScrollTrigger } from '@material-ui/core';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp';\n\nimport { useUserDispatch } from '../Main/Model/UserModel';\n\ntype HeaderProps = {\n\topen: boolean;\n\tuseOpen: React.Dispatch<boolean>;\n\tuserName: string;\n\tuserType: string;\n}\n\nconst Header = ({ open, useOpen, userName, userType }: HeaderProps) => {\n\tconst trigger = useScrollTrigger();\n\tconst setUser = useUserDispatch();\n\tconst history = useHistory();\n\n\tconst Logout = () => {\n\t\tconst confirm = window.confirm(\"정말로 로그아웃 하시겠습니까?\");\n\n\t\tif (confirm) {\n\t\t\taxios.post('/v1/logout', { withCredentials: true })\n\t\t\t\t.then(res => {\n\t\t\t\t\tsetUser(undefined);\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\talert(\"로그아웃을 할 수 없었습니다.\");\n\t\t\t\t\thistory.push(\"/\");\n\t\t\t\t});\n\t\t}\n\t}\n\n\treturn (\n\t\t<Slide appear={false} direction=\"down\" in={!trigger}>\n\t\t\t<Grid className={clsx(open ? \"small-header\" : \"wide-header\", \"header\")}>\n\t\t\t\t<Grid className=\"tool-bar\">\n\t\t\t\t\t{\n\t\t\t\t\t\t!open &&\n\t\t\t\t\t\t<IconButton\n\t\t\t\t\t\t\tclassName=\"open-sidebar\"\n\t\t\t\t\t\t\taria-label=\"open drawer\"\n\t\t\t\t\t\t\tonClick={() => useOpen(true)}\n\t\t\t\t\t\t\tedge=\"start\"\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t<MenuIcon />\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t}\n\t\t\t\t\t<Grid className=\"header-menu-con\">\n\t\t\t\t\t\t<Grid className=\"name-field\"><p className=\"name\">{userName}</p>{userType === 'professor' ? \"교수\" : \"\"}<p>님, 환영합니다.</p></Grid>\n\t\t\t\t\t\t<Grid className=\"menu-field\" onClick={Logout}>\n\t\t\t\t\t\t\t<ExitToAppIcon />\n\t\t\t\t\t\t\t<p>로그아웃</p>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Slide>\n\t);\n}\n\nexport default Header;","import React, { useState, useEffect } from 'react';\nimport clsx from 'clsx';\nimport { Link, RouteComponentProps, withRouter } from 'react-router-dom';\n\nimport { ListSubheader, Grid, IconButton, List, ListItem, ListItemText } from '@material-ui/core';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\nimport ArrowLeftIcon from '@material-ui/icons/ArrowLeft';\n\nimport { SortedAssignObj } from '../Main/Type';\nimport { useAssignmentState, useSelectedState } from '../Main/Model/AssignmentModel';\nimport { getColorState, getSortedAssign } from '../utils';\n\ntype MatchParams = {\n\tasId?: string;\n}\ntype SideBarProps = RouteComponentProps<MatchParams> & {\n\tclasses?: string\n\tuseOpen: React.Dispatch<boolean>\n\tuserType: string\n}\n\n\nconst SideBar = ({ classes, useOpen, userType, match }: SideBarProps) => {\n\tconst assignments = useAssignmentState();\n\tconst selected = useSelectedState();\n\tconst [sortedAssign, setSortedAssign] = useState<SortedAssignObj>([[], [], [], []]);\n\tconst [nowOn, setNowOn] = useState<string>(\"main\"); // main, assignment, setting, member 가 있고, 각 상태에 분기해서 현재 있는 위치 표시\n\n\tuseEffect(() => {\n\t\tassignments &&\n\t\t\tsetSortedAssign(getSortedAssign(assignments, userType));\n\t}, [assignments]);\n\n\tuseEffect(() => {\n\t\tswitch (window.location.pathname) {\n\t\tcase \"/main\":\n\t\t\t// main 페이지\n\t\t\tsetNowOn(\"main\");\n\t\t\tbreak;\n\t\tcase \"/setting\":\n\t\t\tsetNowOn(\"setting\");\n\t\t\tbreak;\n\t\tcase \"/member\":\n\t\t\tsetNowOn(\"member\");\n\t\t\tbreak;\n\t\tdefault:\n\t\t\tsetNowOn(\"assignment\");\n\t\t}\n\t}, [window.location.href]);\n\n\treturn (\n\t\t<Grid className={clsx(classes, \"sidebar\")}>\n\t\t\t<Grid className=\"sidebar-header\">\n\t\t\t\t<Link className=\"logo-con\" to=\"/main\"><Grid className=\"NERA\"><img src=\"/img/logo_new.png\" /></Grid></Link>\n\t\t\t\t<IconButton onClick={() => useOpen(false)}><ArrowBackIcon /></IconButton>\n\t\t\t</Grid>\n\t\t\t<Grid className=\"contactTo\">\n\t\t\t\tNERA에 대한 개선사항이 있다면<br />\n\t\t\t\t<a href=\"https://7tjqulsgu3s.typeform.com/to/SJywg6yt\">🐱이곳🐱</a>으로 알려주세요!\n\t\t\t</Grid>\n\t\t\t{\n\t\t\t\tsortedAssign &&\n\t\t\t\tsortedAssign.map((arr, index) => {\n\t\t\t\t\tconst state = getColorState(index);\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<List\n\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\tclassName=\"assignment-list\"\n\t\t\t\t\t\t\tsubheader={\n\t\t\t\t\t\t\t\t<ListSubheader component=\"div\" id=\"subheader\">\n\t\t\t\t\t\t\t\t\t{userType === 'professor' ? state.professorState : state.studentState}\n\t\t\t\t\t\t\t\t</ListSubheader>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t>{\n\t\t\t\t\t\t\t\tarr.map((as) =>\n\t\t\t\t\t\t\t\t\t<Link className=\"side-assign\" key={as.assignmentId} to={`/as/${as.assignmentId}`}>\n\t\t\t\t\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t\t\t\t\t<FiberManualRecordIcon className={clsx(\"color\", state.color)} />\n\t\t\t\t\t\t\t\t\t\t\t<ListItemText\n\t\t\t\t\t\t\t\t\t\t\t\tprimary={as.assignmentName.length > 20 ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t`${as.assignmentName.substring(0, 20)}...` : as.assignmentName}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t// 현재 보고있는 page 표시\n\t\t\t\t\t\t\t\t\t\t\t\tnowOn === \"assignment\" && as.assignmentId === selected &&\n\t\t\t\t\t\t\t\t\t\t\t\t<p>✍🏼</p>\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t\t\t\t\t</Link>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</List>\n\t\t\t\t\t);\n\t\t\t\t}\n\t\t\t\t)\n\t\t\t}\n\t\t\t{\n\t\t\t\tuserType === 'professor' &&\n\t\t\t\t// 교수님 전용 메뉴\n\t\t\t\t<List\n\t\t\t\t\tsubheader={\n\t\t\t\t\t\t<ListSubheader component=\"div\" id=\"subheader\" className=\"professor-menu\">관리</ListSubheader>\n\t\t\t\t\t}\n\t\t\t\t>\n\t\t\t\t\t<Link className=\"side-assign\" to='/setting'>\n\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t<ListItemText primary=\"과제 관리\" />\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t// 현재 보고있는 page 표시\n\t\t\t\t\t\t\t\tnowOn === \"setting\" &&\n\t\t\t\t\t\t\t\t<p>✍🏼</p>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Link>\n\t\t\t\t\t<Link className=\"side-assign\" to='/member'>\n\t\t\t\t\t\t<ListItem button>\n\t\t\t\t\t\t\t<ListItemText primary=\"수강생 목록 관리\" />\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t// 현재 보고있는 page 표시\n\t\t\t\t\t\t\t\tnowOn === \"member\" &&\n\t\t\t\t\t\t\t\t<p>✍🏼</p>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</ListItem>\n\t\t\t\t\t</Link>\n\t\t\t\t</List>\n\t\t\t}\n\t\t</Grid>\n\t);\n}\n\nexport default withRouter(SideBar);","import 'date-fns';\nimport React, {useState, useEffect} from 'react';\nimport { Grid, TextField } from '@material-ui/core';\nimport DateFnsUtils from '@date-io/date-fns';\nimport {\n\tMuiPickersUtilsProvider,\n\tKeyboardDatePicker,\n} from '@material-ui/pickers';\nimport { MaterialUiPickersDate } from '@material-ui/pickers/typings/date';\n\ninterface TimePickerProps {\n\tstartHelperText: string;\n\tendHelperText: string;\n    publishingTime: Date;\n    deadline: Date;\n    setPublishingTime: React.Dispatch<Date>;\n    setDeadline: React.Dispatch<Date>;\n}\n\nconst TimePicker: React.FC<TimePickerProps> = (props: TimePickerProps) => {\n\tconst [startDate, setStartDate] = useState<Date>();\n\tconst [endDate, setEndDate] = useState<Date>();\n\tconst { startHelperText, endHelperText, publishingTime, deadline, setPublishingTime, setDeadline } = props;\n\n\tuseEffect(() => {\n\t\tsetStartDate(new Date(publishingTime));\n\t\tsetEndDate(new Date(deadline));\n\t}, []);\n\n\tconst checkCorrect = (date1: Date, date2: Date): boolean => {\n\t\tif(date1.getTime() <= date2.getTime()){ // 시작 날짜가 마감 날짜 전이라면\n\t\t\treturn true;\n\t\t}else if(date1.getFullYear()===date2.getFullYear()){ // second까지 따지지 않고, 시간 대소\n\t\t\tif(date1.getMonth()===date2.getMonth()){\n\t\t\t\tif(date1.getDay()===date2.getDay()){\n\t\t\t\t\tif(date1.getHours()===date2.getHours()){\n\t\t\t\t\t\tif(date1.getMinutes()===date2.getMinutes()){\n\t\t\t\t\t\t\treturn true;\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\treturn false;\n\t\t\t\t\t\t}\n\t\t\t\t\t}else{\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}else{\n\t\t\t\treturn false;\n\t\t\t}\n\t\t}else{\n\t\t\treturn false;\n\t\t}\n\t\treturn false\n\t}\n\n\tconst startDayChange = (date: MaterialUiPickersDate): void => {\n\t\tif (date === null)\n\t\t\treturn;\n\n\t\tconst tmp = new Date(date);\n\n\t\tif (startDate === undefined) {\n\t\t\talert(\"과제 발행 날짜가 설정되지 않았습니다.\")\n\t\t\treturn\n\t\t}\n\t\tif (endDate === undefined) {\n\t\t\talert(\"과제 마감 날짜가 설정되지 않았습니다.\")\n\t\t\treturn\n\t\t}\n\n\t\ttmp.setHours(startDate.getHours());\n\t\ttmp.setMinutes(startDate.getMinutes());\n\n\t\tif(checkCorrect(tmp, endDate)) {\n\t\t\tsetStartDate(tmp);\n\t\t\tsetPublishingTime(tmp);\n\t\t} else {\n\t\t\talert(\"발행날짜가 마감날짜보다 이후일 수 없습니다.\");\n\t\t}\n\t}\n  \n\tconst startClockChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\n\t\tconst time = e.target.value.split(':');\n\n\t\tif (startDate === undefined) {\n\t\t\talert(\"과제 발행 날짜가 설정되지 않았습니다.\")\n\t\t\treturn\n\t\t}\n\t\tif (endDate === undefined) {\n\t\t\talert(\"과제 마감 날짜가 설정되지 않았습니다.\")\n\t\t\treturn\n\t\t}\n\n\t\tconst tmp = new Date(startDate);\n\t\ttmp.setHours(Number(time[0]));\n\t\ttmp.setMinutes(Number(time[1]));\n\n\t\tif (checkCorrect(tmp,endDate)) {\n\t\t\tsetStartDate(tmp);\n\t\t\tsetPublishingTime(tmp);\n\t\t} else {\n\t\t\talert(\"발행날짜가 마감날짜보다 이후일 수 없습니다.\");\n\t\t}\n\t}\n\n\tconst endDayChange = (date: MaterialUiPickersDate): void => {\n\t\tif (date === null) \n\t\t\treturn;\n\n\t\tconst tmp = new Date(date);\n\n\t\tif (startDate === undefined) {\n\t\t\talert(\"과제 발행 날짜가 설정되지 않았습니다.\")\n\t\t\treturn\n\t\t}\n\t\tif (endDate === undefined) {\n\t\t\talert(\"과제 마감 날짜가 설정되지 않았습니다.\")\n\t\t\treturn\n\t\t}\n\n\t\ttmp.setHours(endDate.getHours());\n\t\ttmp.setMinutes(endDate.getMinutes());\n\n\t\tif(checkCorrect(startDate,tmp)) {\n\t\t\tsetEndDate(tmp);\n\t\t\tsetDeadline(tmp);\n\t\t} else {\n\t\t\talert(\"발행날짜가 마감날짜보다 이후일 수 없습니다.\");\n\t\t}\n\t}\n  \n\tconst endClockChange = (e: React.ChangeEvent<HTMLInputElement>): void => {\n\t\tconst time = e.target.value.split(':');\n\n\t\tif (startDate === undefined) {\n\t\t\talert(\"과제 발행 날짜가 설정되지 않았습니다.\")\n\t\t\treturn\n\t\t}\n\t\tif (endDate === undefined) {\n\t\t\talert(\"과제 마감 날짜가 설정되지 않았습니다.\")\n\t\t\treturn\n\t\t}\n\n\t\tconst tmp = new Date(endDate);\n\t\ttmp.setHours(Number(time[0]));\n\t\ttmp.setMinutes(Number(time[1]));\n\n\t\tif(checkCorrect(startDate,tmp)){\n\t\t\tsetEndDate(tmp);\n\t\t\tsetDeadline(tmp);\n\t\t}else{\n\t\t\talert(\"발행날짜가 마감날짜보다 이후일 수 없습니다.\");\n\t\t}\n\t}\n\n\tfunction timeFormat(date: Date): string{\n\t\tlet hour = \"\";\n\t\tlet minutes = \"\";\n\n\t\tif(date.getHours() < 10) {\n\t\t\thour = \"0\" + date.getHours();\n\t\t} else {\n\t\t\thour = String(date.getHours());\n\t\t}\n\n\t\tif(date.getMinutes() < 10) {\n\t\t\tminutes = \"0\" + date.getMinutes();\n\t\t} else {\n\t\t\tminutes = String(date.getMinutes());\n\t\t}\n\n\t\treturn hour + \":\" + minutes;\n\t}\n\n\treturn (\n\t\t<Grid container className=\"setting_as_row\" direction=\"row\">\n\t\t\t{\n\t\t\t\t(startDate!==undefined && endDate!== undefined)?\n\t\t\t\t\t<MuiPickersUtilsProvider utils={DateFnsUtils}>\n\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<KeyboardDatePicker\n\t\t\t\t\t\t\t\t\tdisableToolbar\n\t\t\t\t\t\t\t\t\tvariant=\"inline\"\n\t\t\t\t\t\t\t\t\tformat=\"MM/dd/yyyy\"\n\t\t\t\t\t\t\t\t\tid=\"start_day_picker\"\n\t\t\t\t\t\t\t\t\tlabel=\"과제 시작 날짜\"\n\t\t\t\t\t\t\t\t\tvalue={startDate}\n\t\t\t\t\t\t\t\t\tonChange={startDayChange}\n\t\t\t\t\t\t\t\t\thelperText={startHelperText}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tKeyboardButtonProps={{\n\t\t\t\t\t\t\t\t\t\t'aria-label': 'change date',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tid=\"start_time_picker\"\n\t\t\t\t\t\t\t\t\tlabel=\"시작 시각\"\n\t\t\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\t\t\tdefaultValue={timeFormat(startDate)}\n\t\t\t\t\t\t\t\t\tonChange={startClockChange}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid container spacing={1}>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<KeyboardDatePicker\n\t\t\t\t\t\t\t\t\tdisableToolbar\n\t\t\t\t\t\t\t\t\tvariant=\"inline\"\n\t\t\t\t\t\t\t\t\tformat=\"MM/dd/yyyy\"\n\t\t\t\t\t\t\t\t\tid=\"end_day_picker\"\n\t\t\t\t\t\t\t\t\tlabel=\"과제 마감 날짜\"\n\t\t\t\t\t\t\t\t\tvalue={endDate}\n\t\t\t\t\t\t\t\t\tonChange={endDayChange}\n\t\t\t\t\t\t\t\t\thelperText={endHelperText}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tKeyboardButtonProps={{\n\t\t\t\t\t\t\t\t\t\t'aria-label': 'change date',\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\tid=\"end_time_picker\"\n\t\t\t\t\t\t\t\t\tlabel=\"마감 시각\"\n\t\t\t\t\t\t\t\t\ttype=\"time\"\n\t\t\t\t\t\t\t\t\tdefaultValue={timeFormat(endDate)}\n\t\t\t\t\t\t\t\t\tonChange={endClockChange}\n\t\t\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t\t\t\tInputLabelProps={{\n\t\t\t\t\t\t\t\t\t\tshrink: true,\n\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</MuiPickersUtilsProvider>\n\t\t\t\t\t:null\n\t\t\t}\n\t\t</Grid>\n\t);\n}\n\nexport default TimePicker;","import React from 'react';\nimport ReactMarkdown from 'react-markdown';\nimport RemarkMathPlugin from 'remark-math';\nimport { BlockMath, InlineMath } from \"react-katex\";\nimport * as emoji from \"emoji-dictionary\";\nimport remarkGfm from \"remark-gfm\";\nimport 'katex/dist/katex.min.css';\n\ninterface MarkdownViewerProps {\n    source: string;\n}\n\nconst MarkdownViewer: React.FC<MarkdownViewerProps & React.HTMLAttributes<HTMLDivElement>> = (props: MarkdownViewerProps) => {\n\t// 각 HTML 컴포넌트를 어떻게 렌더링할 것인지를 정의.\n\t// react-markdown 라이브러리에서 매개변수에 대한 타입을 제공하지 않으므로,\n\t// 매개변수의 타입을 any로 통일하였음.\n\t\n\tfunction insertUnicode(props: any) {\n\t\treturn props.value.replace(/:[^:\\s]*(?:::[^:\\s]*)*:/gi, (name: string) => emoji.getUnicode(name));\n\t}\n\n\tfunction renderBreak() {\n\t\treturn <br></br>;\n\t}\n\n\tfunction renderParagraph(props: any) {\n\t\treturn <p className=\"markdown_paragraph\">{props.children}</p>;\n\t}\n\n\tfunction renderEmphasis(props: any) {\n\t\treturn <em className=\"markdown_emphasis\">{props.children}</em>;\n\t}\n\n\tfunction renderLink(props: any) {\n\t\tif (props.href) {\n\t\t\treturn <a className=\"markdown_link\" href={props.href}>{props.children}</a>;\n\t\t} else {\n\t\t\treturn <strong className=\"markdown_strong\">(주소가 없는 링크는 만들 수 없습니다.)</strong>;\n\t\t}\n\t}\n\n\tfunction renderStrong(props: any) {\n\t\treturn <strong className=\"markdown_strong\">{props.children}</strong>;\n\t}\n\n\tfunction renderDelete(props: any) {\n\t\treturn <del>{props.children}</del>;\n\t}\n\n\tfunction renderList(props: any) {\n\t\tif (props.start) {\n\t\t\treturn <ol className=\"markdown_ol\">{props.children}</ol>;\n\t\t} else {\n\t\t\treturn <ul className=\"markdown_ul\">{props.children}</ul>;\n\t\t}\n\t}\n\n\tfunction renderListItem(props: any) {\n\t\treturn <li className=\"markdown_list_item\">{props.children}</li>;\n\t}\n\n\tfunction renderBlockQuote(props: any) {\n\t\treturn <blockquote className=\"markdown_blockquote\">{props.children}</blockquote>;\n\t}\n\n\tfunction renderCode(props: any) {\n\t\treturn (\n\t\t\t<pre className=\"markdown_pre\">\n\t\t\t\t<code>\n\t\t\t\t\t{props.value}\n\t\t\t\t</code>\n\t\t\t</pre>\n\t\t)\n\t}\n\n\tfunction renderTable(props: any) {\n\t\treturn <table className=\"markdown_table\">{props.children}</table>;\n\t}\n\n\tfunction renderTableCell(props: any) {\n\t\tconst style: any = {\n\t\t\ttextAlign: props.align ? props.align : 'center',\n\t\t\tpadding: \"6px 13px\"\n\t\t};\n\n\t\tstyle.border = '1px solid #dfe2e5';\n\t\tif (props.isHeader) {\n\t\t\tstyle.background = '#f2f2f2';\n\t\t}\n\n\t\treturn <td style={style}>{props.children}</td>;\n\t}\n\n\tfunction renderInlineCode(props: any) {\n\t\treturn <code className=\"markdown_inline_code\">{props.value}</code>;\n\t}\n\n\tfunction renderMath(props: any) {\n\t\treturn <BlockMath>{props.value}</BlockMath>;\n\t}\n\n\tfunction renderInlineMath(props: any) {\n\t\treturn <InlineMath>{props.value}</InlineMath>;\n\t}\n\n\tfunction renderHTML() {\n\t\t// 외부 콘텐츠를 사용하지 못하게 함.\n\t\treturn <strong className=\"markdown_strong\">(HTML 태그는 사용할 수 없습니다.)</strong>\n\t}\n\n\tconst newProps = {\n\t\tescapeHtml: false,\n\t\tplugins: [\n\t\t\tRemarkMathPlugin,\n\t\t\tremarkGfm // Table 지원\n\t\t],\n\n\t\trenderers: {\n\t\t\t/* 각 element에 대한 렌더링 방식을 정의할 것. */\n\t\t\t/* 아래에서 정의하지 않은 element는 ReactMarkdown의 기본 방식을 따름. */\n\t\t\ttext: insertUnicode,\n\t\t\tbreak: renderBreak,\n\t\t\tparagraph: renderParagraph,\n\t\t\temphasis: renderEmphasis,\n\t\t\tlink: renderLink,\n\t\t\tlinkReference: renderLink,\n\t\t\tstrong: renderStrong,\n\t\t\tdelete: renderDelete,\n\t\t\tlist: renderList,\n\t\t\tlistItem: renderListItem,\n\t\t\tblockquote: renderBlockQuote,\n\t\t\tcode: renderCode,\n\t\t\ttable: renderTable,\n\t\t\ttableCell: renderTableCell,\n\t\t\tinlineCode: renderInlineCode,\n\t\t\tmath: renderMath,\n\t\t\tinlineMath: renderInlineMath,\n\t\t\thtml: renderHTML\n\t\t}\n\t};\n\n\treturn (\n\t\t<ReactMarkdown className=\"markdown_viewer\" {...props} {...newProps} />\n\t);\n};\n\nexport default MarkdownViewer;","import React, { useEffect, useState, useRef } from 'react';\nimport { Paper, Grid, Typography, Divider } from '@material-ui/core';\nimport MarkdownViewer from './MarkdownViewer';\nimport AceEditor from 'react-ace';\nimport AceBuild from \"ace-builds\";\n\nimport \"ace-builds/src-noconflict/mode-markdown\";\nimport \"ace-builds/src-noconflict/mode-latex\";\nimport \"ace-builds/src-noconflict/theme-github\";\nimport \"ace-builds/src-noconflict/ext-language_tools\";\n\nclass MarkDownWithLaTeXRules\n\textends window.ace.require(\"ace/mode/markdown_highlight_rules\").MarkdownHighlightRules {\n\tconstructor() {\n\t\tsuper();\n\t\tconst LatexHighlightRules = window.ace.require(\"ace/mode/latex_highlight_rules\").LatexHighlightRules;\n\t\tconst latexRules = (new LatexHighlightRules()).getRules();\n\n\t\tthis.$rules.start.push({\n\t\t\ttoken: \"keyword\",\n\t\t\tregex: \"\\\\$\\\\$\",\n\t\t\tnext: \"latex-start\"\n\t\t});\n\t\tthis.$rules.start.push({\n\t\t\ttoken: \"keyword\",\n\t\t\tregex: \"\\\\$\",\n\t\t\tnext: \"latex-start\"\n\t\t});\n        \n\t\tthis.embedRules(latexRules, \"latex-\", [\n\t\t\t{\n\t\t\t\ttoken: \"keyword\",\n\t\t\t\tregex: \"\\\\$\\\\$\",\n\t\t\t\tnext: \"start\"\n\t\t\t},\n\t\t\t{\n\t\t\t\ttoken: \"keyword\",\n\t\t\t\tregex: \"\\\\$\",\n\t\t\t\tnext: \"start\"\n\t\t\t}\n\t\t]);\n\n\t}\n}\n\nclass CustomMarkdownMode\n\textends window.ace.require(\"ace/mode/markdown\").Mode {\n\tconstructor() {\n\t\tsuper();\n\t\tthis.HighlightRules = MarkDownWithLaTeXRules;\n\t}\n}\n\ninterface MarkdownEditorProps {\n    contents: string;\n    onChange: React.Dispatch<string>;\n\tclassName?: string;\n\tlines?: number;\n}\n\nconst MarkdownEditor: React.FC<MarkdownEditorProps> = ({ contents, onChange, lines }) => {\n\tconst [source, setSource] = useState<string>(\"\");\n\tconst [timer, setTimer] = useState<NodeJS.Timeout | undefined>(undefined);\n\tconst editorDivRef = useRef<HTMLDivElement>(null);\n\tconst editorRef = useRef<AceEditor>(null);\n\tconst viewerRef = useRef<HTMLDivElement>(null);\n\n\tfunction updateSource() {\n\t\tif (editorRef.current) {\n\t\t\tconst session = editorRef.current.editor.getSession();\n\t\t\tsetSource(session.getValue());\n\t\t} else if (timer !== undefined) {\n\t\t\tclearInterval(timer);\n\t\t}\n\t}\n\n\tfunction updateHeight() {\n\t\tif (editorDivRef.current && viewerRef.current) {\n\t\t\tviewerRef.current.style.height = `${editorDivRef.current.offsetHeight}px`;\n\t\t}\n\t}\n\n\tuseEffect(() => {\n\t\tconst customMarkDown = new CustomMarkdownMode();\n\n\t\tif (editorRef.current) {\n\t\t\tconst session = editorRef?.current?.editor?.getSession();\n\n\t\t\tif (session) {\n\t\t\t\tsession.setMode(customMarkDown as AceBuild.Ace.SyntaxMode);\n\t\t\t\tsetTimer(setInterval(updateSource, 250));\n\t\t\t}\n\t\t}\n\t\tsetInterval(updateHeight, 500);\n\t}, []);\n\n\tuseEffect(() => {\n\t\tsetSource(contents === undefined ? \"\" : contents);\n\n\t\tif (editorRef !== undefined && viewerRef !== undefined) {\n\t\t\tconst session = editorRef?.current?.editor?.getSession();\n\n\t\t\tif (session !== undefined) {\n\t\t\t\tsession.setValue(contents === undefined ? \"\" : contents);\n\t\t\t}\n\t\t}\n\t}, [contents]);\n\n\tfunction handleTextChange(value: string): void {\n\t\tif (onChange)\n\t\t\tonChange(value);\n\t}\n\n\treturn (\n\t\t<Paper component=\"form\" className=\"editor_root\">\n\t\t\t<Grid container direction=\"row\" justify=\"center\">\n\t\t\t\t<div className=\"editor_input_container\">\n\t\t\t\t\t<Typography variant=\"caption\">Markdown 및 LaTeX 형식</Typography>\n\t\t\t\t\t<Divider className=\"editor_caption_divider\" orientation=\"horizontal\"></Divider>\n\t\t\t\t\t<div className=\"editor_input\" ref={editorDivRef}>\n\t\t\t\t\t\t<AceEditor\n\t\t\t\t\t\t\tref={editorRef}\n\t\t\t\t\t\t\tclassName=\"editor_input\"\n\t\t\t\t\t\t\tmode=\"markdown\"\n\t\t\t\t\t\t\ttheme=\"textmate\"\n\t\t\t\t\t\t\tfontSize={18}\n\t\t\t\t\t\t\tshowPrintMargin={false}\n\t\t\t\t\t\t\tminLines={lines ? lines : 35}\n\t\t\t\t\t\t\tmaxLines={lines ? lines : 35}\n\t\t\t\t\t\t\tshowGutter={true}\n\t\t\t\t\t\t\thighlightActiveLine={true}\n\t\t\t\t\t\t\twrapEnabled={true}\n\t\t\t\t\t\t\tonChange={handleTextChange}\n\t\t\t\t\t\t></AceEditor>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<Divider className=\"editor_divider\" orientation=\"vertical\" flexItem></Divider>\n\t\t\t\t<div className=\"editor_viewer_container\">\n\t\t\t\t\t<Typography variant=\"caption\">미리 보기</Typography>\n\t\t\t\t\t<Divider className=\"editor_caption_divider\" orientation=\"horizontal\"></Divider>\n\t\t\t\t\t<div ref={viewerRef} className=\"editor_viewer\">\n\t\t\t\t\t\t<MarkdownViewer source={source}/>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</Grid>\n\t\t</Paper>\n\t);\n};\n\nexport default MarkdownEditor;","// Constants Definition\n\nexport const TABLE__SCORE = [ // for score table \n\t{\n\t\tid: \"userNumber\",\n\t\tlabel: \"학번\",\n\t\tallowSorting: true\n\t},\n\t{\n\t\tid: \"submittedCount\",\n\t\tlabel: \"제출한 문제 수\",\n\t\tallowSorting: true\n\t},\n\t{\n\t\tid: \"markedCount\",\n\t\tlabel: \"채점한 문제 수\",\n\t\tallowSorting: true\n\t},\n\t{\n\t\tid: \"allMarked\",\n\t\tlabel: \"채점 완료 여부\",\n\t\tallowSorting: true\n\t},\n\t{\n\t\tid: \"scoreSum\",\n\t\tlabel: \"총 점수\",\n\t\tallowSorting: true\n\t}\n];\n\nexport const TABLE__QUESTION = [\n\t{ \n\t\tid: 'questionNumber',\n\t\tdisablePadding: true, \n\t\tlabel: '문제 번호' \n\t},\n\t{ \n\t\tid: 'questionId',\n\t\tdisablePadding: false, \n\t\tlabel: '문제 ID' \n\t}\n];\n\nexport const TABLE__STUDENTS = [\n\t{ \n\t\tid: 'userNumber',\n\t\tdisablePadding: true, \n\t\tlabel: '학번' \n\t},\n\t{ \n\t\tid: 'submitted',\n\t\tdisablePadding: false, \n\t\tlabel: '답안을 하나 이상 제출함' \n\t},\n\t{ \n\t\tid: 'marked',\n\t\tdisablePadding: false, \n\t\tlabel: '채점을 완료함' \n\t}\n];","import React from 'react';\nimport { TableCell, TableHead, TableRow, TableSortLabel } from '@material-ui/core';\n\ntype Props = {\n\theadCells: any;\n\tonRequestSort: any;\n\torder: any;\n\torderBy: any;\n}\n\nconst SortedTableHead: React.FunctionComponent<Props> = ({headCells, onRequestSort, order, orderBy}) => {\n\tconst getSortHandler = (id: any) => {\n\t\treturn (e: React.MouseEvent) => onRequestSort(e, id);\n\t};\n\treturn (\n\t\t<TableHead>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell />\n\t\t\t\t{headCells.map((headCell: {id: string; label: string; allowSorting: boolean;}) => (\n\t\t\t\t\t<TableCell key={headCell.id} sortDirection={orderBy === headCell.id ? order : false}>\n\t\t\t\t\t\t{headCell.allowSorting ?\n\t\t\t\t\t\t\t<TableSortLabel\n\t\t\t\t\t\t\t\tactive={orderBy === headCell.id}\n\t\t\t\t\t\t\t\tdirection={orderBy === headCell.id ? order : \"asc\"}\n\t\t\t\t\t\t\t\tonClick={getSortHandler(headCell.id)}\n\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t{headCell.label}\n\t\t\t\t\t\t\t\t{orderBy === headCell.id &&\n\t\t\t\t\t\t\t\t<span>{order === \"desc\" ? \"(내림차순)\" : \"(오름차순)\"}</span>\n\t\t\t\t\t\t\t\t} \n\t\t\t\t\t\t\t</TableSortLabel> :\n\t\t\t\t\t\t\theadCell.label\n\t\t\t\t\t\t}\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t</TableRow>\n\t\t</TableHead>\n\t)\n}\n\nexport default SortedTableHead;","import React, { useState } from 'react';\n\nimport { Box, Collapse, IconButton, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Typography, TablePagination, Paper, TableSortLabel } from '@material-ui/core';\nimport KeyboardArrowDownIcon from '@material-ui/icons/KeyboardArrowDown';\nimport KeyboardArrowUpIcon from '@material-ui/icons/KeyboardArrowUp';\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\nimport { green, red } from '@material-ui/core/colors';\n\ntype Props = {\n\trow: any;\n}\n\nconst ScoreStatsRow: React.FunctionComponent<Props> = ({row}) => {\n\tconst [open, setOpen] = useState<boolean>(false);\n\treturn (\n\t\t<>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell>\n\t\t\t\t\t<IconButton aria-label=\"expand row\" size=\"small\" onClick={() => setOpen(!open)}>\n\t\t\t\t\t\t{open ? <KeyboardArrowUpIcon /> : <KeyboardArrowDownIcon />}\n\t\t\t\t\t</IconButton>\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell component=\"th\" scope=\"row\">\n\t\t\t\t\t{row.userNumber}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>{row.submittedCount}</TableCell>\n\t\t\t\t<TableCell>{row.markedCount}</TableCell>\n\t\t\t\t<TableCell>\n\t\t\t\t\t{row.allMarked ? \n\t\t\t\t\t\t<CheckCircleOutlineIcon style={{ color: green[500] }}/> :\n\t\t\t\t\t\t<HighlightOffIcon style={{ color: red[500] }}/>}\n\t\t\t\t</TableCell>\n\t\t\t\t<TableCell>{row.scoreSum}</TableCell>\n\t\t\t</TableRow>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell style={{ paddingBottom: 0, paddingTop: 0 }} colSpan={6}>\n\t\t\t\t\t<Collapse in={open} timeout=\"auto\" unmountOnExit>\n\t\t\t\t\t\t<Box margin={1}>\n\t\t\t\t\t\t\t<Typography variant=\"h6\" gutterBottom component=\"div\">\n\t\t\t\t\t\t\t\t문제별 점수\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t\t<Table size=\"small\" aria-label=\"score\">\n\t\t\t\t\t\t\t\t<caption>학생이 답안을 제출하지 않은 문제는 표시되지 않습니다.</caption>\n\t\t\t\t\t\t\t\t<TableHead>\n\t\t\t\t\t\t\t\t\t<TableRow>\n\t\t\t\t\t\t\t\t\t\t<TableCell>문제 번호</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell>문제 ID</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell>채점 여부</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell>점수</TableCell>\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t</TableHead>\n\t\t\t\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t\t\t\t{row.scores.map((scoreRow: any) => (\n\t\t\t\t\t\t\t\t\t\t<TableRow key={scoreRow.questionNumber}>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell component=\"th\" scope=\"row\">\n\t\t\t\t\t\t\t\t\t\t\t\t{scoreRow.questionNumber}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>{scoreRow.questionId}</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>\n\t\t\t\t\t\t\t\t\t\t\t\t{scoreRow.marked ?\n\t\t\t\t\t\t\t\t\t\t\t\t\t<CheckCircleOutlineIcon style={{ color: green[500] }} fontSize=\"small\"/> :\n\t\t\t\t\t\t\t\t\t\t\t\t\t<HighlightOffIcon style={{ color: red[500] }} fontSize=\"small\"/>}\n\t\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t\t<TableCell>{scoreRow.score}</TableCell>\n\t\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t\t\t</TableBody>\n\t\t\t\t\t\t\t</Table>\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Collapse>\n\t\t\t\t</TableCell>\n\t\t\t</TableRow>\n\t\t</>\n\t)\n}\n\nexport default ScoreStatsRow;","import React, { useState, useEffect } from 'react';\nimport { sortRows } from '../utils'\nimport { TABLE__SCORE } from '../utils/constants';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box, Collapse, IconButton, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Typography, TablePagination, Paper, TableSortLabel } from '@material-ui/core';\nimport SortedTableHead from './SortedTableHead';\nimport ScoreStatsRow from './ScoreStatsRow';\nimport { AssignmentObj } from '../Main/Type';\n\nconst useStyles = makeStyles((theme) => ({\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2),\n\t},\n\ttable: {\n\t\tminWidth: \"800px\",\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1,\n\t},\n}));\n\ntype Row = {\n\tuserNumber: number;\n\tsubmittedCount: number;\n\tmarkedCount: number;\n\tscoreSum: number;\n\tallMarked: boolean;\n\tscores: {\n\t\tquestionNumber: number;\n\t\tquestionId: number;\n\t\tmarked: boolean;\n\t\tscore: number;\n\t}[];\n}\ntype Props = {\n  assign?: AssignmentObj;\n  answersDict?: any;\n}\nconst ScoreStats: React.FunctionComponent<Props> = ({assign, answersDict}) => {\n\tconst [order, setOrder] = useState<string>(\"asc\");\n\tconst [orderBy, setOrderBy] = useState<string>('userNumber');\n\tconst [page, setPage] = useState<number>(0);\n\tconst [rowsPerPage, setRowsPerPage] = useState<number>(5);\n\tconst [rows, setRows] = useState<Row[]>([]);\n\tconst handleRequestSort = (e: React.MouseEvent, id: any) => {\n\t\tconst isAsc = orderBy === id && order === \"asc\";\n\t\tsetOrder(isAsc ? \"desc\" : \"asc\");\n\t\tsetOrderBy(id);\n\t}\n\n\tconst getAverageScore = (rows: Row[]) => rows.reduce((acc, cur) => acc + cur.scoreSum,0)\n\n\tuseEffect(() => {\n\t\tif(!assign || !answersDict) return;\n\t\tconst _ = assign.students.map((userNumber) => {\n\t\t\tconst singleRow: Row = {\n\t\t\t\tuserNumber,\n\t\t\t\tsubmittedCount: 0,\n\t\t\t\tmarkedCount: 0,\n\t\t\t\tscoreSum: 0,\n\t\t\t\tallMarked: true,\n\t\t\t\tscores: [],\n\t\t\t};\n\t\t\tlet submitted = 0, marked= 0, scoreSum =0;\n\t\t\tconst answerOfQuesId: any = {};\n\n\t\t\tanswersDict[userNumber] &&\n\t\t\tanswersDict[userNumber].answers.filter((answer: any) => answer.answerContent).forEach((answer: any) => {\n\t\t\t\tsubmitted++;\n\t\t\t\tif(answer.score !== -1) { // 채점ㅇ\n\t\t\t\t\t++marked;\n\t\t\t\t\tscoreSum += answer.score;\n\t\t\t\t}\n\t\t\t\tanswerOfQuesId[answer.questionId] = answer;\n\t\t\t})\n\n\t\t\tsingleRow.submittedCount = submitted;\n\t\t\tsingleRow.markedCount = marked;\n\t\t\tsingleRow.scoreSum = scoreSum;\n\t\t\tsingleRow.allMarked = submitted === marked;\n\t\t\t\n\t\t\tconst scores = [];\n\t\t\tlet questionNumber = 1;\n\t\t\tfor (const ques of assign.questions) {\n\t\t\t\tif (ques.questionId in answerOfQuesId) {\n\t\t\t\t\tscores.push({\n\t\t\t\t\t\tquestionNumber: questionNumber,\n\t\t\t\t\t\tquestionId: ques.questionId,\n\t\t\t\t\t\tmarked: answerOfQuesId[ques.questionId].score >= 0,\n\t\t\t\t\t\tscore: (answerOfQuesId[ques.questionId].score < 0 ? 0 : answerOfQuesId[ques.questionId].score)\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tquestionNumber++;\n\t\t\t}\n\t\t\tsingleRow.scores = scores;\n\t\t\treturn singleRow;\n\t\t});\n\t\tsetRows(_);\n\t}, [assign, answersDict]);\n\n\t\n\treturn (\n\t\t<Paper className=\"score_stats\" elevation={3}>\n\t\t\t<TableContainer component={Paper}>\n\t\t\t\t<Table className=\"score_stats_table\" aria-label=\"score stats table\" size=\"small\">\n\t\t\t\t\t<caption>{`평균 점수는 ${getAverageScore(rows)}점 입니다.`}</caption>\n\t\t\t\t\t<SortedTableHead \n\t\t\t\t\t\theadCells={TABLE__SCORE}\n\t\t\t\t\t\tonRequestSort={handleRequestSort}\n\t\t\t\t\t\torder={order}\n\t\t\t\t\t\torderBy={orderBy}\n\t\t\t\t\t/>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{sortRows(rows, order, orderBy)\n\t\t\t\t\t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t.map((row: any) => (\n\t\t\t\t\t\t\t\t<ScoreStatsRow key={row.userNumber} row={row} />\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t{\n\t\t\t\t<TablePagination\n\t\t\t\t\trowsPerPageOptions={[5, 10, 25, 50, 100]}\n\t\t\t\t\tcomponent=\"div\"\n\t\t\t\t\tcount={rows.length}\n\t\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\t\tpage={page}\n\t\t\t\t\tonChangePage={(e, newValue) => {setPage(newValue)}}\n\t\t\t\t\tonChangeRowsPerPage={(e) => {\n\t\t\t\t\t\tsetRowsPerPage(parseInt(e.target.value, 10));\n\t\t\t\t\t\tsetPage(0);\n\t\t\t\t\t}}\n\t\t\t\t/>}\n\t\t</Paper>\n\t)\n}\n\n\n\n\nexport default ScoreStats;","/* eslint-disable no-mixed-spaces-and-tabs */\nimport React, { useEffect } from 'react';\nimport { Table, TableHead, TableBody, TableCell, TableContainer, TablePagination, TableRow, TableSortLabel, Toolbar, Typography, Paper, Checkbox}  from '@material-ui/core';\nimport { lighten, makeStyles } from '@material-ui/core/styles';\nimport clsx from 'clsx';\n\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tpaddingLeft: theme.spacing(2),\n\t\tpaddingRight: theme.spacing(1),\n\t},\n\thighlight:\n        theme.palette.type === 'light' ? \n        \t{\n        \t\tcolor: theme.palette.secondary.main, backgroundColor: lighten(theme.palette.secondary.light, 0.85),\n        \t}\n        \t: {\n        \t\tcolor: theme.palette.text.primary,\n        \t\tbackgroundColor: theme.palette.secondary.dark,\n        \t},\n\ttitle: {\n\t\tflex: '1 1 100%',\n\t},\n}));\n\ntype Props = {\n  numSelected: number;\n  type: \"question\" | \"student\";\n}\n\nconst EnhancedTableToolbar: React.FunctionComponent<Props> = ({numSelected, type}) => {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Toolbar\n\t\t\tclassName={clsx(classes.root, {\n\t\t\t\t[classes.highlight]: numSelected > 0,\n\t\t\t})}\n\t\t>\n\t\t\t{numSelected > 0 ? (\n\t\t\t\t<Typography className={classes.title} color=\"inherit\" variant=\"subtitle1\" component=\"div\">\n\t\t\t\t\t{numSelected}{type === \"question\" ? \"개\" : \"명\"}의 {type === \"question\" ? \"문제를\" : \"학생을\"} 선택함\n\t\t\t\t</Typography>\n\t\t\t) : (\n\t\t\t\t<Typography className={classes.title} variant=\"h6\" id=\"tableTitle\" component=\"div\">\n\t\t\t\t\t채점할 {type === \"question\" ? \"문제\" : \"학생\"} 선택\n\t\t\t\t</Typography>\n\t\t\t)}\n\t\t</Toolbar>\n\t)\n}\n\nexport default EnhancedTableToolbar;","import React from 'react';\n\nimport { TableHead, TableCell,  TableRow, TableSortLabel, Checkbox}  from '@material-ui/core';\n\ntype Props = {\n\tclasses: any;\n\tnumSelected: number;\n\tonRequestSort: any;\n\tonSelectAllClick: (e: React.ChangeEvent<HTMLInputElement>, checked: boolean) => void;\n\torder: 'asc' | 'desc';\n\torderBy: string;\n\trowCount: number;\n\theadCells: any[];\n}\n\nconst EnhancedTableHead: React.FunctionComponent<Props> = ({ classes, onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort, headCells }) => {\n\tconst createSortHandler = (property: string) => (event: React.MouseEvent) => {\n\t\tonRequestSort(event, property);\n\t};\n\n\treturn (\n\t\t<TableHead>\n\t\t\t<TableRow>\n\t\t\t\t<TableCell padding=\"checkbox\" >\n\t\t\t\t\t<Checkbox\n\t\t\t\t\t\tindeterminate={numSelected > 0 && numSelected < rowCount}\n\t\t\t\t\t\tchecked={rowCount > 0 && numSelected === rowCount}\n\t\t\t\t\t\tonChange={onSelectAllClick}\n\t\t\t\t\t\tinputProps={{ 'aria-label': 'select all questions' }}\n\t\t\t\t\t/>\n\t\t\t\t</TableCell>\n\t\t\t\t{headCells.map((headCell, idx) => (\n\t\t\t\t\t<TableCell\n\t\t\t\t\t\tkey={idx}\n\t\t\t\t\t\tpadding={headCell.disablePadding ? 'none' : 'default'}\n\t\t\t\t\t\tsortDirection={orderBy === headCell.id ? order : false}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TableSortLabel\n\t\t\t\t\t\t\tactive={orderBy === headCell.id}\n\t\t\t\t\t\t\tdirection={orderBy === headCell.id ? order : 'asc'}\n\t\t\t\t\t\t\tonClick={createSortHandler(headCell.id)}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{headCell.label}\n\t\t\t\t\t\t\t{orderBy === headCell.id && <span className={classes.visuallyHidden}>{order === 'desc' ? '내림 차순 정렬됨' : '오름 차순 정렬됨'}</span>}\n\t\t\t\t\t\t</TableSortLabel>\n\t\t\t\t\t</TableCell>\n\t\t\t\t))}\n\t\t\t</TableRow>\n\t\t</TableHead>\n\t)\n}\n\nexport default EnhancedTableHead;","import React, { useEffect, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { Table, TableHead, TableBody, TableCell, TableContainer, TablePagination, TableRow, TableSortLabel, Toolbar, Typography, Paper, Checkbox}  from '@material-ui/core';\nimport { lighten, makeStyles } from '@material-ui/core/styles';\n\nimport EnhancedTableToolbar from './EnhancedTableToolbar';\nimport EnhancedTableHead from './EnhancedTableHead';\nimport { compareElements } from '../utils/sortRows';\nimport { AssignmentObj } from '../Main/Type';\nimport { TABLE__QUESTION } from '../utils/constants';\nfunction getComparator(order: 'asc'|'desc', orderBy: string) {\n\treturn order === 'desc'\n\t\t? (a: any, b: any) => compareElements(a, b, orderBy)\n\t\t: (a: any, b: any) => -compareElements(a, b, orderBy);\n}\n\nfunction stableSort(array: any[], comparator: any) {\n\tconst stabilizedThis = array.map((el, index) => [el, index]);\n\tstabilizedThis.sort((a, b) => {\n\t\tconst order = comparator(a[0], b[0]);\n\t\tif (order !== 0) return order;\n\t\treturn a[1] - b[1];\n\t});\n\treturn stabilizedThis.map((el) => el[0]);\n}\n\nconst useStyles = makeStyles((theme) => ({\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2),\n\t},\n\ttable: {\n\t\tminWidth: \"500px\",\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1,\n\t},\n}));\n\ntype Row = {\n\tquestionNumber: number;\n\tquestionId: number;\n}\ntype Props = {\n\tonChange: any;\n\tassign: AssignmentObj;\n}\n\nconst QuestionSelector: React.FunctionComponent<Props> = ({onChange, assign}) => {\n\tconst classes = useStyles();\n\tconst [selected, setSelected] = useState<any[]>([]);\n\tconst [rows, setRows] = useState<Row[]>([]);\n\tconst [emptyRows, setEmptyRows] = useState<number>(0);\n\tconst [order, setOrder] = useState<'asc'|'desc'>('asc');\n\tconst [orderBy, setOrderBy] = useState<string>('questionNumber');\n\tconst [page, setPage] = useState<number>(0);\n\tconst [rowsPerPage, setRowsPerPage] = useState<number>(10);\n\n\tconst handleRequestSort = (e: React.MouseEvent, property: string) => {\n\t\tconst isAsc = orderBy === property && order === 'asc';\n\t\tsetOrder(isAsc ? 'desc' : 'asc');\n\t\tsetOrderBy(property);\n\t};\n\n\tconst handleSelectAllClick = (e: React.ChangeEvent<HTMLInputElement>, checked: boolean) => {\n\t\tif(e.target.checked) {\n\t\t\tconst newSelecteds = rows.map((n: any) => n.questionId);\n\t\t\tsetSelected(newSelecteds);\n\t\t\tonChange && onChange(newSelecteds);\n\t\t}\n\t\telse {\n\t\t\tsetSelected([]);\n\t\t\tonChange && onChange([]);\n\t\t}\n\n\t};\n\n\tconst isSelected = (questionId: number) => selected.indexOf(questionId) !== -1;\n\tconst handleClick = (e: React.MouseEvent, questionId: number) => {\n\t\tconst selectedIndex = selected.indexOf(questionId);\n\t\tlet newSelected: any[] = [];\n\n\t\tif (selectedIndex === -1) {\n\t\t\tnewSelected = newSelected.concat(selected, questionId);\n\t\t} else if (selectedIndex === 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(1));\n\t\t} else if (selectedIndex === selected.length - 1) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, -1));\n\t\t} else if (selectedIndex > 0) {\n\t\t\tnewSelected = newSelected.concat(\n\t\t\t\tselected.slice(0, selectedIndex),\n\t\t\t\tselected.slice(selectedIndex + 1),\n\t\t\t);\n\t\t}\n\n\t\tsetSelected(newSelected);\n\t\tonChange && onChange(newSelected);\t\n\t}\n\n\tuseEffect(() => {\n\t\tsetEmptyRows(rowsPerPage - Math.min(rowsPerPage, assign.questions.length - page * rowsPerPage));\n\n\t}, [page]);\n\n\tuseEffect(() => {\n\t\tconst _: Row[] = assign.questions.map((q, idx) => {\n\t\t\treturn {\n\t\t\t\tquestionNumber: idx+1,\n\t\t\t\tquestionId: q.questionId,\n\t\t\t}\n\t\t});\n\n\t\tsetRows(_);\n\t}, []);\n\n\treturn (\n\t\t<Paper className={classes.paper} elevation={3}>\n\t\t\t<EnhancedTableToolbar numSelected={selected.length} type=\"question\"/>\n\t\t\t<TableContainer className=\"question_selector\">\n\t\t\t\t<Table\n\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\taria-label=\"question table\"\n\t\t\t\t>\n\t\t\t\t\t<EnhancedTableHead\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\tnumSelected={selected.length}\n\t\t\t\t\t\torder={order}\n\t\t\t\t\t\torderBy={orderBy}\n\t\t\t\t\t\tonSelectAllClick={handleSelectAllClick}\n\t\t\t\t\t\tonRequestSort={handleRequestSort}\n\t\t\t\t\t\trowCount={rows.length}\n\t\t\t\t\t\theadCells={TABLE__QUESTION}\n\t\t\t\t\t/>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{stableSort(rows, getComparator(order, orderBy))\n\t\t\t\t\t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t.map((row: any, index: any) => {\n\t\t\t\t\t\t\t\tconst isItemSelected = isSelected(row.questionId);\n\t\t\t\t\t\t\t\tconst labelId = `question-table-checkbox-${index}`;\n\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\t\thover\n\t\t\t\t\t\t\t\t\t\tonClick={(event) => handleClick(event, row.questionId)}\n\t\t\t\t\t\t\t\t\t\trole=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\taria-checked={isItemSelected}\n\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t\t\t\tkey={row.questionId}\n\t\t\t\t\t\t\t\t\t\tselected={isItemSelected}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={isItemSelected}\n\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-labelledby': labelId }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\n\t\t\t\t\t\t\t\t\t\t\t{row.questionNumber}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{row.questionId}</TableCell>\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t{emptyRows > 0 && (\n\t\t\t\t\t\t\t<TableRow style={{ height: 33 * emptyRows }}>\n\t\t\t\t\t\t\t\t<TableCell colSpan={6} />\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[5, 10, 25, 50, 100]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={(e, newpage) => {setPage(newpage);}}\n\t\t\t\tonChangeRowsPerPage={(e) => {\n\t\t\t\t\tsetRowsPerPage(parseInt(e.target.value, 10));\n\t\t\t\t\tsetPage(0);\n\t\t\t\t}}\n\t\t\t/>\n\t\t</Paper>\n\t);\n\n}\n\nexport default QuestionSelector;","import React, { useEffect, useState } from 'react';\nimport clsx from 'clsx';\n\nimport { Table, TableHead, TableBody, TableCell, TableContainer, TablePagination, TableRow, TableSortLabel, Toolbar, Typography, Paper, Checkbox}  from '@material-ui/core';\nimport { lighten, makeStyles } from '@material-ui/core/styles';\nimport { green, red } from '@material-ui/core/colors';\nimport CheckCircleOutlineIcon from '@material-ui/icons/CheckCircleOutline';\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\n\nimport EnhancedTableToolbar from './EnhancedTableToolbar';\nimport EnhancedTableHead from './EnhancedTableHead';\nimport { compareElements } from '../utils/sortRows';\nimport { AssignmentObj } from '../Main/Type';\nimport { TABLE__STUDENTS } from '../utils/constants';\n\nfunction getComparator(order: 'asc'|'desc', orderBy: string) {\n\treturn order === 'desc'\n\t\t? (a: any, b: any) => compareElements(a, b, orderBy)\n\t\t: (a: any, b: any) => -compareElements(a, b, orderBy);\n}\n\nfunction stableSort(array: any[], comparator: any) {\n\tconst stabilizedThis = array.map((el, index) => [el, index]);\n\tstabilizedThis.sort((a, b) => {\n\t\tconst order = comparator(a[0], b[0]);\n\t\tif (order !== 0) return order;\n\t\treturn a[1] - b[1];\n\t});\n\treturn stabilizedThis.map((el) => el[0]);\n}\n\nconst useStyles = makeStyles((theme) => ({\n\tpaper: {\n\t\twidth: '100%',\n\t\tmarginBottom: theme.spacing(2),\n\t},\n\ttable: {\n\t\tminWidth: \"500px\",\n\t},\n\tvisuallyHidden: {\n\t\tborder: 0,\n\t\tclip: 'rect(0 0 0 0)',\n\t\theight: 1,\n\t\tmargin: -1,\n\t\toverflow: 'hidden',\n\t\tpadding: 0,\n\t\tposition: 'absolute',\n\t\ttop: 20,\n\t\twidth: 1,\n\t},\n}));\n\n\n\nconst getIcon = (value: any) => {\n\tif (value === undefined)\n\t\treturn \"-\";\n\telse if (value)\n\t\treturn <CheckCircleOutlineIcon style={{ color: green[500] }} fontSize=\"small\"/>;\n\n\treturn <HighlightOffIcon style={{ color: red[500] }} fontSize=\"small\"/>;\n}\n\ntype Row = {\n\tuserNumber: number;\n\tsubmitted?: boolean;\n\tmarked?: boolean;\n}\n\n\ntype Props = {\n\tonChange: any;\n\tanswersDict: any;\n\tselectedQues: any[];\n\tassign: AssignmentObj;\n}\n\nconst StudentSelector: React.FunctionComponent<Props> = ({onChange, assign, selectedQues, answersDict}) => {\n\tconst classes = useStyles();\n\tconst [selected, setSelected] = useState<number[]>([]); // state for all selected students\n\tconst [rows, setRows] = useState<Row[]>([]);\n\tconst [emptyRows, setEmptyRows] = useState<number>(0);\n\tconst [order, setOrder] = useState<'asc'|'desc'>('asc');\n\tconst [orderBy, setOrderBy] = useState<string>('questionNumber');\n\tconst [page, setPage] = useState<number>(0);\n\tconst [rowsPerPage, setRowsPerPage] = useState<number>(10);\n\n\tconst handleRequestSort = (e: React.MouseEvent, property: string) => {\n\t\tconst isAsc = orderBy === property && order === 'asc';\n\t\tsetOrder(isAsc ? 'desc' : 'asc');\n\t\tsetOrderBy(property);\n\t};\n\n\tconst handleSelectAllClick = (e: React.ChangeEvent<HTMLInputElement>, checked: boolean) => {\n\t\tif(e.target.checked) {\n\t\t\tconst newSelecteds = rows.map((n) => n.userNumber);\n\t\t\tsetSelected(newSelecteds);\n\t\t\tonChange && onChange(newSelecteds);\n\t\t}\n\t\telse {\n\t\t\tsetSelected([]);\n\t\t\tonChange && onChange([]);\n\t\t}\n\n\t};\n\n\tconst isSelected = (userNumber: number) => selected.indexOf(userNumber) !== -1;\n\tconst handleClick = (e: React.MouseEvent, userNumber: number) => {\n\t\tconst selectedIndex = selected.indexOf(userNumber);\n\t\tlet newSelected: any[] = [];\n\n\t\tif (selectedIndex === -1) {\n\t\t\tnewSelected = newSelected.concat(selected, userNumber);\n\t\t} else if (selectedIndex === 0) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(1));\n\t\t} else if (selectedIndex === selected.length - 1) {\n\t\t\tnewSelected = newSelected.concat(selected.slice(0, -1));\n\t\t} else if (selectedIndex > 0) {\n\t\t\tnewSelected = newSelected.concat(\n\t\t\t\tselected.slice(0, selectedIndex),\n\t\t\t\tselected.slice(selectedIndex + 1),\n\t\t\t);\n\t\t}\n\n\t\tsetSelected(newSelected);\n\t\tonChange && onChange(newSelected);\t\n\t}\n\n\tuseEffect(() => {\n\t\tsetEmptyRows(rowsPerPage - Math.min(rowsPerPage, assign.students.length - page * rowsPerPage));\n\t}, [page]);\n\n\tuseEffect(() => {\n\t\tconst _: Row[] = assign.students.map((userNumber) => {\n\t\t\tif(!selectedQues || selectedQues.length ===0) {\n\t\t\t\treturn {\n\t\t\t\t\tuserNumber,\n\t\t\t\t}\n\t\t\t}\n\t\t\telse {\n\t\t\t\tconst answers = answersDict[userNumber].answers;\n\t\t\t\tlet submittedCount = 0;\n\t\t\t\tlet markedCount = 0;\n\t\t\t\tfor (const questionId of selectedQues) {\n\t\t\t\t\tconst ansOfQues = answers.find((ans: any) => ans.questionId === questionId);\n\t\t\t\t\tif (ansOfQues.answerContent) {\n\t\t\t\t\t\t++submittedCount;\n\t\t\t\t\t\tmarkedCount += (ansOfQues.score === -1 ? 0 : 1);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn {\n\t\t\t\t\tuserNumber,\n\t\t\t\t\tsubmitted: submittedCount >0,\n\t\t\t\t\tmarked: submittedCount > 0 ? submittedCount === markedCount : false,\n\t\t\t\t}\n\t\t\t}\n\t\t});\n\n\t\tsetRows(_);\n\t\treturn () => setRows([]);\n\t}, [assign, answersDict, selectedQues]);\n\n\treturn (\n\t\t<Paper className={classes.paper} elevation={3}>\n\t\t\t<EnhancedTableToolbar numSelected={selected.length} type=\"student\"/>\n\t\t\t<TableContainer>\n\t\t\t\t<Table\n\t\t\t\t\tclassName={classes.table}\n\t\t\t\t\taria-labelledby=\"tableTitle\"\n\t\t\t\t\tsize=\"small\"\n\t\t\t\t\taria-label=\"students table\"\n\t\t\t\t>\n\t\t\t\t\t<EnhancedTableHead\n\t\t\t\t\t\tclasses={classes}\n\t\t\t\t\t\tnumSelected={selected.length}\n\t\t\t\t\t\torder={order}\n\t\t\t\t\t\torderBy={orderBy}\n\t\t\t\t\t\tonSelectAllClick={handleSelectAllClick}\n\t\t\t\t\t\tonRequestSort={handleRequestSort}\n\t\t\t\t\t\trowCount={rows.length}\n\t\t\t\t\t\theadCells={TABLE__STUDENTS}\n\t\t\t\t\t/>\n\t\t\t\t\t<TableBody>\n\t\t\t\t\t\t{stableSort(rows, getComparator(order, orderBy))\n\t\t\t\t\t\t\t.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n\t\t\t\t\t\t\t.map((row: any, index: any) => {\n\t\t\t\t\t\t\t\tconst isItemSelected = isSelected(row.userNumber);\n\t\t\t\t\t\t\t\tconst labelId = `student-table-checkbox-${index}`;\n\n\t\t\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t\t\t<TableRow\n\t\t\t\t\t\t\t\t\t\thover\n\t\t\t\t\t\t\t\t\t\tonClick={(event) => handleClick(event, row.userNumber)}\n\t\t\t\t\t\t\t\t\t\trole=\"checkbox\"\n\t\t\t\t\t\t\t\t\t\taria-checked={isItemSelected}\n\t\t\t\t\t\t\t\t\t\ttabIndex={-1}\n\t\t\t\t\t\t\t\t\t\tkey={row.userNumber}\n\t\t\t\t\t\t\t\t\t\tselected={isItemSelected}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t<TableCell padding=\"checkbox\">\n\t\t\t\t\t\t\t\t\t\t\t<Checkbox\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={isItemSelected}\n\t\t\t\t\t\t\t\t\t\t\t\tinputProps={{ 'aria-labelledby': labelId }}\n\t\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\n\t\t\t\t\t\t\t\t\t\t\t{row.userNumber}\n\t\t\t\t\t\t\t\t\t\t</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{getIcon(row.submitted)}</TableCell>\n\t\t\t\t\t\t\t\t\t\t<TableCell>{getIcon(row.marked)}</TableCell>\n\t\t\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t{emptyRows > 0 && (\n\t\t\t\t\t\t\t<TableRow style={{ height: 33 * emptyRows }}>\n\t\t\t\t\t\t\t\t<TableCell colSpan={6} />\n\t\t\t\t\t\t\t</TableRow>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</TableBody>\n\t\t\t\t</Table>\n\t\t\t</TableContainer>\n\t\t\t<TablePagination\n\t\t\t\trowsPerPageOptions={[5, 10, 25, 50, 100]}\n\t\t\t\tcomponent=\"div\"\n\t\t\t\tcount={rows.length}\n\t\t\t\trowsPerPage={rowsPerPage}\n\t\t\t\tpage={page}\n\t\t\t\tonChangePage={(e, newpage) => {setPage(newpage);}}\n\t\t\t\tonChangeRowsPerPage={(e) => {\n\t\t\t\t\tsetRowsPerPage(parseInt(e.target.value, 10));\n\t\t\t\t\tsetPage(0);\n\t\t\t\t}}\n\t\t\t/>\n\t\t</Paper>\n\t);\n\n}\n\nexport default StudentSelector;","import React, { useEffect, useState, KeyboardEvent, createRef } from 'react';\nimport XLSX from 'xlsx';\n\nimport { Grid, Modal, Paper, TextField, Button, Typography, Tooltip } from '@material-ui/core';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport CloseIcon from '@material-ui/icons/Close';\n\nimport { GroupObj } from '../Main/Type';\nimport { useGroupState, useSaveGroup } from '../Main/Model/GroupModel';\nimport { useUserState } from '../Main/Model/UserModel';\n\nconst typeString = ['add', 'update'];\n\ntype MemberObject = {\n\ttypeProps: typeof typeString[number];\n\tgroupProps?: GroupObj;\n\thandleClose: () => void;\n}\n\nconst MemberPopup = ({ typeProps, groupProps, handleClose }: MemberObject) => {\n\tconst groups = useGroupState(); // model에서 group 정보 받아오기\n\tconst user = useUserState();\n\tconst saveGroupFunc = useSaveGroup();\n\tconst nameRef = createRef<HTMLInputElement>();\n\n\tconst [update, forceUpdate] = useState<boolean>(true);\n\tconst [group, setGroup] = useState<GroupObj | undefined>(groupProps); // 그룹 이름으로 받아올 시에 저장되는 변수\n\n\tconst [name, setName] = useState<string>(\"\"); // 현재 MODAL에 있는 리스트 이름\n\tconst [members, setMembers] = useState<Array<string>>([]); // 현재 MODAL에 있는 수강생 리스트\n\tconst [openGroups, setOpenGroups] = useState<boolean>(false); // 기존 그룹 보여주기 여부\n\tconst [openImg, setOpenImg] = useState<boolean>(false); // excel 설명 이미지\n\n\tuseEffect(() => {\n\t\t// 그룹이 바뀌면 member도 다시 세팅\n\t\tconst setMembersByGroup = async () => {\n\t\t\tsetMembers([]); setName(\"\");\n\t\t\tif (group === undefined) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\tconst tmp = members.slice(0);\n\t\t\tawait group.students.forEach((student) => {\n\t\t\t\ttmp.push(student.toString());\n\t\t\t});\n\t\t\tawait setMembers(tmp);\n\t\t\tawait setName(group.className);\n\t\t}\n\n\t\tsetMembersByGroup();\n\t}, [group]);\n\n\tconst changeMember = async (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>, index: number) => {\n\t\t// textfield가 바뀔 때마다 members 갱신\n\t\tconst tmp = members; // 얕은 복사\n\t\ttmp[index] = e.target.value;\n\t\tawait setMembers(tmp);\n\t\tforceUpdate(!update);\n\t}\n\n\tconst addMember = () => {\n\t\t// member 추가\n\t\tsetMembers([\n\t\t\t...members,\n\t\t\t\"\"\n\t\t]);\n\t}\n\n\tconst deleteMember = async (index: number) => {\n\t\t// member 삭제\n\t\tawait setMembers([]);\n\t\tconst tmp = members;\n\t\ttmp.splice(index, 1);\n\t\tawait setMembers(tmp);\n\t}\n\n\tconst changeName = (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n\t\t// 이름은 길이가 max 30\n\t\tif (e.target.value.length > 30) {\n\t\t\talert(\"수강생 목록의 이름은 30자를 초과할 수 없습니다.\");\n\t\t\treturn;\n\t\t}\n\t\tsetName(e.target.value);\n\t}\n\n\tconst changeGroup = async (gr: GroupObj) => {\n\t\t// 수강생 목록 불러오기에서 목록 클릭 시\n\t\tawait setGroup(undefined);\n\t\tawait setGroup(gr);\n\t}\n\n\tconst uploadXlsxFile = (e: React.ChangeEvent<HTMLInputElement>) => {\n\t\tconsole.log(\"엑셀 파일 로드\");\n\t\tconst file = e.target.files && e.target.files[0];\n\t\tif (file === null) return;\n\n\t\t// 확장자 검사\n\t\tconst name = file.name.slice(0, file.name.indexOf(\".\")).toLowerCase();\n\t\tconst check = file.name.slice(file.name.indexOf(\".\") + 1).toLowerCase();\n\t\tif (check !== 'csv' && check !== 'xlsx') {\n\t\t\talert('.csv, .xlsx 파일만 등록 가능합니다.');\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconst reader = new FileReader();\n\t\t\treader.onload = async (evt) => { // evt = on_file_select event\n\t\t\t\t/* Parse data */\n\t\t\t\tconst bstr = evt.target && evt.target.result;\n\t\t\t\tconst wb = XLSX.read(bstr, { type: 'binary' });\n\t\t\t\t/* Get first worksheet */\n\t\t\t\tconst wsname = wb.SheetNames[0];\n\t\t\t\tconst ws = wb.Sheets[wsname];\n\t\t\t\t/* Convert array of arrays */\n\t\t\t\tconst data = XLSX.utils.sheet_to_json<any>(ws);\n\n\t\t\t\t/* Update state => 기존 멤버에 추가 */\n\t\t\t\tconst tmp: Array<string> = [];\n\t\t\t\tdata.forEach(element => {\n\t\t\t\t\ttmp.push(element['학번'].toString().trim());\n\t\t\t\t});\n\t\t\t\tawait setName(name);\n\t\t\t\tawait setMembers(tmp);\n\t\t\t};\n\t\t\treader.readAsBinaryString(file);\n\t\t} catch (e) {\n\t\t\talert(\"엑셀 파일을 로딩하는 중 오류가 발생했습니다.\");\n\t\t\treturn;\n\t\t}\n\t}\n\n\tconst isCorrect = (member: string) => {\n\t\t// 입력한 학번 검사\n\t\tif (isNaN(Number(member))) { // 숫자로 변환 가능\n\t\t\treturn false;\n\t\t}\n\t\tif (Number(member) >= 3000000000 || Number(member) <= 2000000000) { // 범위 체크\n\t\t\treturn false;\n\t\t}\n\t\treturn true;\n\t}\n\n\tconst saveGroup = async () => {\n\t\t// 수강생 목록 이름이 없으면 focus, alert\n\t\tif (name === \"\"){\n\t\t\talert(\"수강생 목록 이름이 입력되지 않았습니다.\");\n\t\t\tnameRef.current &&\n\t\t\t\tnameRef.current.focus();\n\t\t\treturn;\n\t\t}\n\t\t\n\t\tlet flag = 0;\n\t\t// 비어있는 칸 없애버리기\n\t\tconst saveMembers = members.filter(member => member !== \"\");\n\n\t\t// 학번이 하나도 없으면 return\n\t\tif (saveMembers.length === 0){\n\t\t\talert(\"학번을 하나 이상 입력해주세요.\");\n\t\t\treturn;\n\t\t}\n\n\t\tawait saveMembers.forEach((member, index) => {\n\t\t\t// 학번 검사\n\t\t\tif (!isCorrect(member)) {\n\t\t\t\talert(\"학번을 제대로 입력해주세요.\");\n\t\t\t\tflag = 1;\n\t\t\t\treturn;\n\t\t\t}\n\t\t});\n\n\t\t// 학번이 제대로 되어있지 않은 칸이 있으면 return\n\t\tif(flag)\n\t\t\treturn;\n\n\t\tuser &&\n\t\t\tsaveGroupFunc({\n\t\t\t\tclassName: name,\n\t\t\t\tstudents: saveMembers.map((member) => parseInt(member)),\n\t\t\t\tgroupId: (typeProps === 'add' || group === undefined) ? -1 : group.groupId // 생성은 -1\n\t\t\t})\n\t\tawait handleClose();\n\t}\n\n\tconst setMemberByKeyDown = (e: KeyboardEvent<HTMLDivElement>, index: number) => {\n\t\t// keyboard 눌림에 따라 member 삭제 및 생성\n\t\tswitch (e.keyCode) {\n\t\tcase 13: // enter\n\t\t\taddMember();\n\t\t\tbreak;\n\t\tcase 46: // delete\n\t\t\tdeleteMember(index);\n\t\t}\n\t}\n\n\treturn (\n\t\t<Modal\n\t\t\topen={true}\n\t\t\tonClose={handleClose}\n\t\t\taria-labelledby=\"student-modal\"\n\t\t\taria-describedby=\"수강생 목록 모달입니다.\"\n\t\t\tclassName=\"modal\">\n\t\t\t<Paper elevation={3} className=\"modal-con group-modal-con contents-container\">\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"contents-title\">\n\t\t\t\t\t\t<Grid>\n\t\t\t\t\t\t\t<h6>수강생 불러오기</h6>\n\t\t\t\t\t\t\t<Button className=\"x-btn x-btn1\" variant=\"outlined\" onClick={handleClose}><CloseIcon /></Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid>\n\t\t\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" onClick={() => setGroup(undefined)} className=\"init-btn\">초기화</Button>\n\t\t\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" onClick={saveGroup}>저장</Button>\n\t\t\t\t\t\t\t<Button className=\"x-btn x-btn2\" variant=\"outlined\" onClick={handleClose}><CloseIcon /></Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Grid className=\"get-group-con\" container>\n\t\t\t\t\t\t<Grid container alignItems=\"center\">\n\t\t\t\t\t\t\t<Grid className=\"group-btn-con\" container alignItems=\"center\">\n\t\t\t\t\t\t\t\t<Button color=\"secondary\" variant=\"contained\" onClick={() => setOpenGroups(!openGroups)}>{openGroups ? \"기존 수강생 목록 숨기기\" : \"기존 수강생 목록 불러오기\"}</Button>\n\t\t\t\t\t\t\t\t<p>{openGroups ? \"👇 목록 이름을 클릭하면 수강생들을 불러올 수 있습니다.\" : \"👈 버튼을 클릭하면 목록을 불러올 수 있습니다.\"}</p>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t// 기존에 존재하는 수강생 목록 불러오기\n\t\t\t\t\t\t\t\topenGroups &&\n\t\t\t\t\t\t\t\t<Grid className=\"group-con\" container alignItems=\"center\" wrap=\"wrap\">\n\t\t\t\t\t\t\t\t\t{groups.map((gr) => <Button variant=\"outlined\" key={gr.groupId} onClick={() => changeGroup(gr)}>{gr.className}</Button>)}\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid container alignItems=\"center\">\n\t\t\t\t\t\t\t<Grid className=\"group-btn-con\" container alignItems=\"center\">\n\t\t\t\t\t\t\t\t<input\n\t\t\t\t\t\t\t\t\tclassName=\"file-upload\"\n\t\t\t\t\t\t\t\t\taccept=\"image/*\"\n\t\t\t\t\t\t\t\t\tid=\"contained-button-file\"\n\t\t\t\t\t\t\t\t\ttype=\"file\"\n\t\t\t\t\t\t\t\t\tonChange={(e) => uploadXlsxFile(e)}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t<label htmlFor=\"contained-button-file\">\n\t\t\t\t\t\t\t\t\t<Button color=\"secondary\" variant=\"contained\" component=\"span\">\n\t\t\t\t\t\t\t\t\t\t엑셀로 수강생 목록 불러오기\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</label>\n\t\t\t\t\t\t\t\t<p>엑셀은 한 열에 학번만 기재하면 됩니다.</p>\n\t\t\t\t\t\t\t\t<Button className=\"example\" variant=\"outlined\" onClick={() => setOpenImg(true)}>예시</Button>\n\t\t\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\t\t\topen={openImg}\n\t\t\t\t\t\t\t\t\tonClose={() => setOpenImg(false)}\n\t\t\t\t\t\t\t\t\tclassName=\"img-modal\"\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<Paper className=\"contents-container img-con\" elevation={3}>\n\t\t\t\t\t\t\t\t\t\t<div className=\"contents-title\">\n\t\t\t\t\t\t\t\t\t\t\t<h6>엑셀 사용 예시</h6>\n\t\t\t\t\t\t\t\t\t\t\t<Button className=\"x-btn x-btn1\" variant=\"outlined\" onClick={() => setOpenImg(false)}><CloseIcon /></Button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<img src=\"/img/excelEX.png\" alt=\"엑셀 사용설명 이미지\" />\n\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t</Modal>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</div>\n\t\t\t\t<div>\n\t\t\t\t\t<div className=\"contents-title\">\n\t\t\t\t\t\t<h6>정보 입력</h6>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Grid className=\"set-group-con\" container direction=\"column\">\n\t\t\t\t\t\t<Grid container alignItems=\"center\" justify=\"space-between\" wrap=\"wrap\">\n\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\tclassName=\"group-name-field\"\n\t\t\t\t\t\t\t\tlabel=\"수강생 목록 이름\"\n\t\t\t\t\t\t\t\tInputProps={{\n\t\t\t\t\t\t\t\t\tstartAdornment: (\n\t\t\t\t\t\t\t\t\t\t<p>🙌🏻</p>\n\t\t\t\t\t\t\t\t\t),\n\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\tinputRef={nameRef}\n\t\t\t\t\t\t\t\tonChange={(e) => changeName(e)}\n\t\t\t\t\t\t\t\tvalue={name && name}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t<Button color=\"secondary\" variant=\"contained\" onClick={addMember}>학생 추가</Button>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid container alignItems=\"center\" wrap=\"wrap\" className=\"member-con\">\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tmembers.map((member: string, index: number) =>\n\t\t\t\t\t\t\t\t\t<Grid key={index}>\n\t\t\t\t\t\t\t\t\t\t<TextField\n\t\t\t\t\t\t\t\t\t\t\tlabel={\"학생\" + (index + 1)}\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => changeMember(e, index)}\n\t\t\t\t\t\t\t\t\t\t\tonKeyDown={(e) => setMemberByKeyDown(e, index)}\n\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t\t\t\t\t\t\t\trows={1}\n\t\t\t\t\t\t\t\t\t\t\tclassName={\"box-container student-container\"}\n\t\t\t\t\t\t\t\t\t\t\tvalue={member}\n\t\t\t\t\t\t\t\t\t\t\terror={isCorrect(member) ? false : true}\n\t\t\t\t\t\t\t\t\t\t\thelperText=\"학번을 입력해주세요.\"\n\t\t\t\t\t\t\t\t\t\t\tautoFocus={true}\n\t\t\t\t\t\t\t\t\t\t\tinputProps={{\n\t\t\t\t\t\t\t\t\t\t\t\tmaxLength: 10\n\t\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t\t\t<Button onClick={() => deleteMember(index)}><ClearIcon /></Button>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</div>\n\t\t\t</Paper>\n\t\t</Modal>\n\t);\n};\n\nexport default MemberPopup;\n","import React from 'react';\n\nimport { Snackbar, Grid, Paper, IconButton } from '@material-ui/core';\nimport SaveIcon from '@material-ui/icons/Save';\n\ntype SnackBarType = {\n\tonClickFun : () => void,\n\tmodifiedDateStr : string,\n\tstatus : string\n}\n\n// 과제를 저장한 후 오른쪽 아래에 뜨는 저장 알림\nconst SaveSnackbar = ({onClickFun, modifiedDateStr, status} : SnackBarType) => {\n\tconst handleClick = () => {\n\t\tonClickFun();\n\t}\n\n\treturn (\n\t\t<Snackbar\n\t\t\tanchorOrigin={{\n\t\t\t\tvertical: 'bottom',\n\t\t\t\thorizontal: 'right',\n\t\t\t}}\n\t\t\topen={true}\n\t\t>\n\t\t\t<Paper className=\"save_paper\" elevation={4}>\n\t\t\t\t<Grid className=\"save-paper-head\">\n\t\t\t\t\t<p>{modifiedDateStr}에 저장함</p>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid className=\"save-paper-body\">\n\t\t\t\t\t<p>{status}</p>\n\t\t\t\t\t<IconButton className=\"save_component\" onClick={handleClick}>\n\t\t\t\t\t\t<SaveIcon fontSize=\"large\" color=\"primary\"/>\n\t\t\t\t\t</IconButton>\n\t\t\t\t</Grid>\n\t\t\t</Paper>\n\t\t</Snackbar>\n\t);\n\n}\n\nexport default SaveSnackbar;","import React from 'react';\nimport { Grid, CircularProgress } from '@material-ui/core';\n\ntype LoadingType = {\n\tstatus : string\n}\n\n// 콘텐츠가 아직 업로드되지 않았을 때 표시하는 로딩 컴포넌트\nconst Loading = ({status} : LoadingType) =>\n\t<Grid container className=\"loading_contents\" direction=\"column\" alignItems=\"center\" >\n\t\t<CircularProgress className=\"loading\" size=\"6rem\"></CircularProgress>\n\t\t<span style={{margin:20}}>{status}</span>\n\t</Grid>;\n\nexport default Loading;","import React, { useEffect, useState } from 'react';\nimport MarkdownViewer from './MarkdownViewer';\n\nimport { Grid, Typography, Paper, Divider, FormControl, MenuItem, InputLabel, Select, FormControlLabel, Box } from '@material-ui/core';\nimport { TextField } from '@material-ui/core';\n\ntype Props = {\n\tassignmentState: number;\n\tscore: number;\n\tfullScore: number;\n\tanswerContent?: string;\n\tuserNumber: number;\n\tquestionNumber: number;\n\tquestionId: number;\n\thandleScoreChange: any;\n}\n\nconst UserAnswer: React.FunctionComponent<Props> = props => {\n\tconst [open, setOpen] = useState<boolean>(false);\n\tconst [score, setScore] = useState<string>(props.score === -1 ? '' : props.score.toString());\n\tconst [scoreItems, setScoreItems] = useState<any>(undefined);\n\tconst isFinished = () => (props.assignmentState ? (props.assignmentState !== 0 && props.assignmentState !== 1) : false);\n\n\tconst handleChange = (e: React.ChangeEvent<{value: string}>) => {\n\t\tif(!isFinished()) return;\n\t\tconst value = parseInt(e.target.value);\n\t\tif(value > props.fullScore) {\n\t\t\tsetScore(\"\");\n\t\t\talert(`최대 점수는 ${props.fullScore} 입니다.`);\n\t\t}\n\t\telse if(value < 0) {\n\t\t\tsetScore(\"\");\n\t\t\talert(`0점 미만은 입력할 수 없습니다.`);\n\t\t}\n\t\telse {\n\t\t\tsetScore(e.target.value);\n\t\t\t//props.onChange && props.onChange(props.questionId, props.userNumber, e.target.value); // 수정필요, input 이라 이벤트 계속 발생 \n\t\t}\n\t};\n\n\treturn (\n\t\t<Paper className=\"answer_content\" elevation={4}>\n\t\t\t<Grid container direction=\"column\">\n\t\t\t\t<Typography gutterBottom variant=\"subtitle1\">{`${props.userNumber}의 ${props.questionNumber}번 문제 답안`}</Typography>\n\t\t\t\t<Divider orientation=\"horizontal\"></Divider>\n\t\t\t\t<MarkdownViewer source={props.answerContent ? props.answerContent : \"*제출한 답안 없음*\"}></MarkdownViewer>\n\t\t\t\t<Divider orientation=\"horizontal\"></Divider>\n\t\t\t\t<Grid container direction=\"row\" justify=\"center\" alignItems=\"center\" className=\"score_control\">\n\t\t\t\t\t{isFinished() ?\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<Typography className=\"answer_score\">점수(최대 {props.fullScore}점)</Typography>\n\t\t\t\t\t\t\t<TextField \n\t\t\t\t\t\t\t\tclassName=\"answer_select\"\n\t\t\t\t\t\t\t\tvalue={score}\n\t\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t\t\tonBlur={(e) => props.handleScoreChange(e.target.value)}\n\t\t\t\t\t\t\t\tplaceholder=\"채점 안 됨\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</React.Fragment>\n\t\t\t\t\t\t:\n\t\t\t\t\t\t<React.Fragment>\n\t\t\t\t\t\t\t<Typography className=\"answer_score\">과제가 아직 마감되지 않았으므로 채점할 수 없습니다.</Typography>\n\t\t\t\t\t\t</React.Fragment>}\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Paper>\n\n\t)\n}\n\nexport default UserAnswer;","import React, { useEffect, useState, Dispatch } from 'react';\n\nimport { Grid, Divider, Paper, Typography } from '@material-ui/core';\n\nimport { MarkdownViewer, MarkdownEditor } from '.';\nimport { useSelectedAssignState } from '../Main/Model/AssignmentModel';\nimport { answerType, QuestionObj } from '../Main/Type';\n\ntype answerObj = {\n\tanswerContent: string;\n\tscore: number;\n}\n\ntype questionProps = {\n\tanswer : answerType;\n\tsetAnswer : Dispatch<answerType>;\n\tsetStatus : Dispatch<string>;\n\tquestion : QuestionObj;\n\tindex : number;\n}\n\nconst StudentQuestion = ({ answer, setAnswer, setStatus, question, index } : questionProps) => {\n\tconst [scoreText, setScoreText] = useState<string[]>([\"\",\"\"]); // 배점, 실제 점수\n\tconst [eachAnswer, setEachAnswer] = useState<answerObj | undefined>();\n\tconst selectedAssign = useSelectedAssignState();\n\n\tuseEffect(()=>{\n\t\t// 선택된 과제가 있고, question에 해당하는 answer가 있으면\n\t\tif(!selectedAssign || !answer[question.questionId]){\n\t\t\tsetEachAnswer(undefined);\n\t\t\treturn;\n\t\t}\n\t\t\n\t\t// answer 세팅\n\t\tsetEachAnswer(answer[question.questionId]);\n\n\t\t// scoretext 세팅\n\t\tif (selectedAssign.assignmentState === 3)\n\t\t\tsetScoreText([\"\", `${answer[question.questionId].score === -1 ? 0 : answer[question.questionId].score}점/${question.fullScore}점`]);\n\t\telse\n\t\t\tsetScoreText([`${question.fullScore}점`, \"\"]);\n\t}, [answer[question.questionId], selectedAssign]);\n\n\n\tconst saveEachAnswer = async (str : string) => {\n\t\tconst tmp = answer;\n\t\tanswer[question.questionId].answerContent = str;\n\t\tawait setAnswer(tmp);\n\t\tsetStatus(\"답안 저장 필요\");\n\t}\n\n\treturn (\n\t\t<Grid className=\"problem-container\">\n\t\t\t<Grid className=\"problem-question\">\n\t\t\t\t<h4 className=\"p-title\">문제 {index+1}<p>{scoreText[0] && `(${scoreText[0]})`}</p></h4>\n\t\t\t\t<Grid className=\"viewer\">\n\t\t\t\t\t<MarkdownViewer source={question.questionContent}/>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t{\n\t\t\t\t// 0 : 공개 전 / 1 : 제출 중 / 2: 채점 중 / 3 : 채점 완료\n\t\t\t\tselectedAssign && eachAnswer && \n\t\t\t\t\t<Grid className=\"problem-answer\">\n\t\t\t\t\t\t<h4 className=\"p-title\">답안<p>{scoreText[1] && `(${scoreText[1]})`}</p></h4>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tselectedAssign.assignmentState === 1?\n\t\t\t\t\t\t\t\t<MarkdownEditor onChange={saveEachAnswer} contents={eachAnswer.answerContent} />\n\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t<Grid className=\"viewer answer\">\n\t\t\t\t\t\t\t\t\t<MarkdownViewer source={ eachAnswer.answerContent ? eachAnswer.answerContent : \"*제출한 답안 없음*\"}/>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t}\n\t\t\t\t\t</Grid>\n\t\t\t}\n\t\t</Grid>\n\t);\n}\n\nexport default StudentQuestion;","import React, { useEffect, useState } from 'react';\nimport { useHistory } from \"react-router-dom\";\nimport XLSX from 'xlsx';\nimport { useGroupState } from \"../Main/Model/GroupModel\";\n\nimport { Grid, Modal, Paper, TextField, Button} from '@material-ui/core';\nimport ClearIcon from '@material-ui/icons/Clear';\n\ninterface StudentPopUpParams {\n    open: boolean;\n\thandleClose : () => void;\n\ttype: string;\n\tstudents : Array<number>;\n\tlistName : string;\n\tsaveFunc: (students: Array<number>, listName: string) => void;\n}\n\ntype StudentListType = {\n\t[className: string]: Array<number>;\n}\n\ntype OverlappingStudentsType = {\n\t[key: number]: number; // key : index, value : 학번\n}\n\nconst StudentPopUp: React.FC<StudentPopUpParams> = (props) => {\n\tconst [update, forceUpdate] = useState<boolean>(false); // rendering update용\n\tconst [students, setStudents] = useState<Array<number | undefined>>([]);\n\tconst [refinedStudents, setRefinedStudents] = useState<Array<number>>([]); // students에서 undefined를 제거한 결과\n\tconst [listName, setListName] = useState<string>(\"\");\n\tconst [studentList, setStudentList] = useState<StudentListType>({});\n\t\n\tconst groupState = useGroupState();\n\tconst history = useHistory();\n\n\tuseEffect(()=>{\n\t\tsetStudents(props.students);\n\t\tsetListName(props.listName);\n\t},[props]);\n    \n\tfunction getStudentList(): void {\n\t\tconst studentListTmp: StudentListType = {};\n\t\tgroupState.map((list) => {\n\t\t\tstudentListTmp[list.className] = list.students;\n\t\t});\n\t\tsetStudentList(studentListTmp);\n\t}\n\n\tfunction renderStudentList(){\n\t\t// 수강생 목록 띄우기\n\t\tconst result= [];\n\t\tfor (const [name, list] of Object.entries(studentList)) {\n\t\t\tresult.push(\n\t\t\t\t<Button onClick={()=>changeStudentList(name, list)}>{name}</Button>\n\t\t\t)\n\t\t}\n\t\treturn result;\n\t}\n\n\tfunction changeStudentList(name: string, list: Array<number>): void {\n\t\tsetListName(name);\n\t\tsetStudents(list);\n\t\tforceUpdate(!update);\n\t}\n\n\t// student field\n\n\tfunction changeStudent(e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>, index: number): void {\n\t\t// textfield가 바뀔 때마다 students 갱신\n\t\tconst tmp = students;\n\t\tif(e.target.value === undefined) {\n\t\t\t//아무것도 없을 경우\n\t\t\ttmp[index] = undefined;\n\t\t} else {\n\t\t\t//숫자면 숫자형태로 변형\n\t\t\tconst number = Number(e.target.value);\n\t\t\tif (isNaN(number) || number === 0) {\n\t\t\t\ttmp[index] = undefined;\n\t\t\t} else {\n\t\t\t\ttmp[index] = number;\n\t\t\t}\n\t\t}\n\n\t\tinitializeHighlight();\n\t\tsetStudents(tmp);\n\t\tforceUpdate(!update);\n\t}\n\n\tfunction addStudent(): void {\n\t\t// 새로운 학번 추가\n\t\tconst tmp = students;\n\t\ttmp.push(undefined);\n\t\tsetStudents(tmp);\n\t\tforceUpdate(!update);\n\t}\n\n\tfunction deleteStudent(index: number): void {\n\t\tconst tmp = students;\n\t\ttmp.splice(index,1);\n\t\tsetStudents(tmp);\n\t\tforceUpdate(!update);\n\t}\n\n\t// 전처리\n\n\tfunction preProcessingStudentData(): string {\n\t\tlet returnString = \"\";\n\t\tconst refined: Array<number> = [];\n        \n\t\tif (listName === \"\") {\n\t\t\treturn \"목록 이름이 비어있습니다. 입력해주세요.\";\n\t\t}\n\n\t\tconst olStudents = getOverlappingStudents();\n\t\tif (Object.keys(olStudents).length !== 0) {\n\t\t\thighlightOverlap(olStudents);\n\t\t\treturn \"수강생 학번 중 겹치는 학번이 있습니다.\";\n\t\t}\n\n\t\tstudents.map((student) => {\n\t\t\tif (student === undefined) {\n\t\t\t\t// 빈 student textfield는 별도의 오류 없이 제외\n\t\t\t\treturn;\n\t\t\t} else if (isNaN(Number(student))) {\n\t\t\t\t// 학번이 숫자가 아니면\n\t\t\t\treturnString = \"학번이 숫자가 아닙니다.\";\n\t\t\t} else if (student < 1000000000 || student >= 3000000000) {\n\t\t\t\t// 학번이 정상 범위가 아니면\n\t\t\t\treturnString = \"학번이 정상 범위가 아닙니다.\";\n\t\t\t} else {\n\t\t\t\trefined.push(student);\n\t\t\t}\n\t\t});\n\t\t// 이 시점에서 tmp에는 undefined가 제거되어있음.\n\t\tsetStudents(refined);\n\t\tsetRefinedStudents(refined);\n\t\treturn returnString; // 정상\n\t}\n    \n\tfunction highlightOverlap(olStudents: OverlappingStudentsType): void {\n\t\t// 번호가 겹치는 학생 표시\n\t\tfor(const number in olStudents){ // number : index\n\t\t\tconst studentTag = document.getElementById(\"modal_student\" + number);\n\t\t\tif (studentTag) {\n\t\t\t\tstudentTag.setAttribute(\"style\", \"color:red;\");\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction initializeHighlight(): void {\n\t\t// highlight 없애기 (초기화)\n\t\tconst studentsTag = document.getElementsByClassName(\"modal_students\");\n\n\t\tfor (const index in studentsTag){\n\t\t\tif(index !== \"length\") {\n\t\t\t\tconst inputTag = studentsTag[index].children[1].children[0];\n\t\t\t\tinputTag.setAttribute(\"style\", \"\");\n\t\t\t}\n\t\t\telse {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\n\tfunction getOverlappingStudents(): OverlappingStudentsType {\n\t\tconst tmp: {[key: number]: number} = {}; // key : 학번, value : index\n\t\tconst result: OverlappingStudentsType = {}; // key : index, value : 학번\n\n\t\tstudents.map((student, index) => {\n\t\t\tif (student === undefined) {\n\t\t\t\treturn;\n\t\t\t} else if (Object.prototype.hasOwnProperty.call(tmp, student)) {\n\t\t\t\tresult[index] = student;\n\t\t\t} else {\n\t\t\t\ttmp[student] = index;\n\t\t\t}\n\t\t});\n\n\t\treturn result;\n\t}\n\n\t// 저장\n    \n\tfunction saveStudentList(){\n\t\tinitializeHighlight();\n        \n\t\t// preProcessingStudentData에서 refinedStudents를 초기화\n\t\tconst errorMessage = preProcessingStudentData();\n\t\tif (errorMessage !== \"\") {\n\t\t\talert(errorMessage);\n\t\t\treturn;\n\t\t}\n\n\t\tprops.saveFunc(refinedStudents, listName);\n\t}\n\n\tfunction uploadXlsxFile(e: React.ChangeEvent<HTMLInputElement>): void {\n\t\tif (e.target.files === null) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst f = e.target.files[0];\n\t\tif (f === undefined) {\n\t\t\treturn;\n\t\t}\n\n\t\tconst check = f.name.slice(f.name.indexOf(\".\") + 1).toLowerCase();\n\n\t\tif (check !== 'csv' && check !== 'xlsx') {\n\t\t\talert('.csv, .xlsx 파일만 등록 가능합니다.');\n\t\t\treturn;\n\t\t}\n\t\tconst reader = new FileReader();\n\t\treader.onload = (evt) => { // evt = on_file_select event\n\t\t\tif (evt.target === null) {\n\t\t\t\treturn;\n\t\t\t}\n\n\t\t\t/* Parse data */\n\t\t\tconst bstr = evt.target.result;\n\t\t\tconst wb = XLSX.read(bstr, {type:'binary'});\n\t\t\t/* Get first worksheet */\n\t\t\tconst wsname = wb.SheetNames[0];\n\t\t\tconst ws = wb.Sheets[wsname];\n\t\t\t/* Convert array of arrays */\n\t\t\tconst data = XLSX.utils.sheet_to_json(ws);\n\t\t\t/* Update state */\n\t\t\tdata.forEach(element => {\n\t\t\t\tconst refined = element as { [kind: string]: number };\n\t\t\t\tstudents.push(refined['학번']);\n\t\t\t\thistory.push('/home/setList');\n\t\t\t});\n\t\t};\n\n\t\treader.readAsBinaryString(f);\n\t}\n\t// type마다 달라지는 contents\n    \n\tconst headerContent = () => {\n\t\tif(props.type===\"set\"){\n\t\t\t// 수강생 목록 생성\n\t\t\treturn(\n\t\t\t\t<Grid container item alignItems=\"center\">\n\t\t\t\t\t<TextField label=\"목록 이름\" required onInput={(e: React.ChangeEvent<HTMLInputElement>)=>setListName(e.target.value)} rows={1} className=\"modal_input_field\" value={listName}></TextField>\n\t\t\t\t\t<input type=\"file\" name=\"student_list_xlsx\" onChange={uploadXlsxFile.bind(this)}/>\n\t\t\t\t\t<Button className=\"save_button\" onClick={saveStudentList}>저장</Button>\n\t\t\t\t</Grid>\n\t\t\t);\n\t\t}else if(props.type===\"get\"){\n\t\t\t// 수강생 목록 조회\n\t\t\treturn(\n\t\t\t\t<Grid container item alignItems=\"center\">\n\t\t\t\t\t<Button onClick={getStudentList}>수강생 목록 불러오기</Button>\n\t\t\t\t\t{renderStudentList()}\n\t\t\t\t\t<Button className=\"save_button\" onClick={saveStudentList}>저장</Button>\n\t\t\t\t</Grid>\n\t\t\t);\n\t\t}\n\t}\n    \n\n\treturn(\n\t\t<Modal\n\t\t\topen={props.open}\n\t\t\tonClose={props.handleClose}\n\t\t\taria-labelledby=\"student-modal\"\n\t\t\taria-describedby=\"수강생 목록 모달입니다.\"\n\t\t\tclassName=\"modal\">\n\t\t\t<Paper className=\"modal_con\">\n\t\t\t\t<Grid container>\n\t\t\t\t\t{headerContent()}\n\t\t\t\t\t<Grid container item alignItems=\"center\" wrap=\"wrap\">\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tstudents.map((student, index)=>\n\t\t\t\t\t\t\t\t<Grid key={student} item className=\"box_container\">\n\t\t\t\t\t\t\t\t\t<Grid item className=\"box_content\">\n\t\t\t\t\t\t\t\t\t\t<TextField  label={\"학생\"+(index+1)} \n\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\n\t\t\t\t\t\t\t\t\t\t\trows={1}\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e)=>changeStudent(e, index)} \n\t\t\t\t\t\t\t\t\t\t\tclassName={\"modal_students modal_input_field\"}\n\t\t\t\t\t\t\t\t\t\t\tid={\"modal_student\"+index} \n\t\t\t\t\t\t\t\t\t\t\tvalue={student}\n\t\t\t\t\t\t\t\t\t\t\terror={typeof(student)===\"string\"?true:false}\n\t\t\t\t\t\t\t\t\t\t\thelperText=\"숫자를 입력해주세요.\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t</TextField>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item className=\"box_xbtn\">\n\t\t\t\t\t\t\t\t\t\t<Button onClick={()=>deleteStudent(index)}><ClearIcon/></Button>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Button className=\"add_button\" onClick={addStudent}>학생 추가</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Paper>\n\t\t</Modal>\n\t);\n}\n\nexport default StudentPopUp;","import React, { ReactNode, useEffect, useState } from 'react';\nimport { RouteComponentProps } from \"react-router\";\n\nimport { Grid, Divider, Snackbar, Button } from '@material-ui/core';\nimport InfoIcon from '@material-ui/icons/Info';\n\nimport { PageInfo, Loading, SaveSnackbar, StudentQuestion, MarkdownViewer } from \"../Components\";\nimport { useSelectedAssignState, useSelectedDispatch } from '../Main/Model/AssignmentModel';\nimport { useAnswerState, saveAnswer } from '../Main/Model/AnswerModel';\nimport { AnswerObj, QuestionObj, answerType, QuestionAnswerObj } from '../Main/Type';\nimport { modifiedDateToString } from '../utils';\n\ninterface MatchParams {\n\tasId?: string | undefined;\n}\n\n// Assignment 페이지\nconst Assignment: React.FC<RouteComponentProps<MatchParams>> = ({ match }) => {\n\tconst setSelected = useSelectedDispatch();\n\tconst selectedAssign = useSelectedAssignState();\n\tconst answerState = useAnswerState();\n\tconst saveAnswerFunc = saveAnswer();\n\n\tconst [status, setStatus] = useState<string>(\"변경사항 없음\");\n\tconst [answer, setAnswer] = useState<answerType | undefined>(undefined);\n\n\tuseEffect(() => {\n\t\tmatch.params.asId ?\n\t\t\tsetSelected(Number(match.params.asId)) :\n\t\t\tsetSelected(undefined);\n\t}, [match.params.asId]);\n\n\tlet mutex = 0;\n\n\t// ctrl + s 버튼 구현\n\twindow.addEventListener(\"keydown\", async (event: KeyboardEvent) => {\n\t\tif (!selectedAssign || selectedAssign.assignmentState !== 1)\n\t\t\treturn;\n\t\tif(mutex)\n\t\t\treturn;\n\t\tif ((window.navigator.platform.match(\"Mac\") ? event.metaKey : event.ctrlKey) && event.keyCode === 83) {\n\t\t\tmutex = await 1;\n\t\t\tevent.preventDefault();\n\t\t\tawait saveAnswers();\n\t\t\tmutex = await 0;\n\t\t}\n\t}, false);\n\n\tuseEffect(() => {\n\t\t// answer를 이용하기 좋은 형태로 변환\n\t\ttransFormAnswer();\n\t}, [answerState]);\n\n\tconst getInfoText = (): string => {\n\t\t// 0 : 공개 전 / 1 : 제출 중 / 2: 채점 중 / 3 : 채점 완료\n\t\tif (!selectedAssign)\n\t\t\treturn \"\";\n\t\tif (selectedAssign.assignmentState === 1) {\n\t\t\treturn \"Markdown 및 LaTeX(KaTeX) 형식으로 과제를 작성하고 저장할 수 있습니다. Ctrl+S를 누르거나 우측 하단 저장 버튼을 눌러 수동 저장할 수 있습니다.\";\n\t\t} else if (selectedAssign.assignmentState === 3) {\n\t\t\treturn \"이전에 제출한 답안들의 채점 결과를 확인할 수 있습니다.\"\n\t\t} else {\n\t\t\treturn \"과제가 채점 중입니다. 확인할 수 없는 기간입니다.\"\n\t\t}\n\t}\n\n\tconst giveHelperSite = (): ReactNode => {\n\t\t// 수강생들을 도울 링크\n\t\treturn (\n\t\t\t<Grid className=\"info-btn-con\" container alignItems=\"center\" justify=\"space-between\" wrap=\"wrap\">\n\t\t\t\t<Button color=\"primary\" variant=\"contained\">\n\t\t\t\t\t<a target=\"blank\" href=\"https://www.markdownguide.org/basic-syntax/\">👉 마크다운 문법</a>\n\t\t\t\t</Button>\n\t\t\t\t<Button color=\"primary\" variant=\"contained\">\n\t\t\t\t\t<a target=\"blank\" href=\"https://katex.org/docs/supported.html\">👉 LaTex 문법</a>\n\t\t\t\t</Button>\n\t\t\t\t<Button color=\"primary\" variant=\"contained\">\n\t\t\t\t\t<a target=\"blank\" href=\"https://powergee.github.io/simple-markdown-editor/\">👉 작성 예시</a>\n\t\t\t\t</Button>\n\t\t\t</Grid>\n\t\t)\n\t}\n\n\tconst transFormAnswer = () => {\n\t\t// array to map (key: questionId)\n\t\tconst tmp: answerType = {};\n\t\tif(answerState[0] && selectedAssign){\n\t\t\t// 학생은 배열에 1개의 답안obj 만이 있음\n\t\t\tanswerState[0].answers.forEach((a : AnswerObj) => {\n\t\t\t\ttmp[a.questionId] = {\n\t\t\t\t\tanswerContent: a.answerContent,\n\t\t\t\t\t// 채점 전이면 score -1\n\t\t\t\t\tscore: a.score ? a.score : -1\n\t\t\t\t}\n\t\t\t});\n\t\t\tsetAnswer(tmp);\n\t\t} else setAnswer(undefined);\n\t}\n\n\tconst saveAnswers = async () => {\n\t\tconsole.log(\"save Answers in Assignment\");\n\t\tawait setStatus(\"답안 저장 중...\");\n\t\tif(!answer){\n\t\t\tconsole.log(\"answer 없음\");\n\t\t\treturn;\n\t\t}\n\t\t// save answer\n\t\t// map to array\n\t\tconst tmp: Array<AnswerObj> = [];\n\t\tObject.keys(answer).forEach((qId) => {\n\t\t\ttmp.push({\n\t\t\t\tquestionId: Number(qId),\n\t\t\t\tanswerContent: answer[Number(qId)].answerContent\n\t\t\t});\n\t\t});\n\t\tawait saveAnswerFunc(tmp);\n\t\tawait setStatus(\"변경 사항 없음\");\n\t}\n\n\treturn (\n\t\t<>\n\t\t\t{\n\t\t\t\t// answer와 선택된 과제 모두 준비되면 rendering\n\t\t\t\t!selectedAssign ?\n\t\t\t\t\t<Loading status=\"과제 정보를 가져오는 중...\" /> :\n\t\t\t\t\t<>\n\t\t\t\t\t\t<SaveSnackbar \n\t\t\t\t\t\t\tonClickFun={saveAnswers} \n\t\t\t\t\t\t\tmodifiedDateStr={modifiedDateToString(answerState[0]?.meta?.modifiedAt)}\n\t\t\t\t\t\t\tstatus={status}\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<Grid className=\"assignment-page-header\">\n\t\t\t\t\t\t\t<Grid className=\"assignment-page-title\">\n\t\t\t\t\t\t\t\t<PageInfo\n\t\t\t\t\t\t\t\t\ticon=\"📚\"\n\t\t\t\t\t\t\t\t\tmainTitle={selectedAssign.assignmentName}\n\t\t\t\t\t\t\t\t\tsubTitle={`${modifiedDateToString(selectedAssign.deadline)}까지`}\n\t\t\t\t\t\t\t\t\tinformation={<MarkdownViewer source={selectedAssign.assignmentInfo} />}\n\t\t\t\t\t\t\t\t\trightSide={giveHelperSite()}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid className=\"page-additional-info\" >\n\t\t\t\t\t\t\t<InfoIcon color=\"primary\" />\n\t\t\t\t\t\t\t<p>{getInfoText()}</p>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\t<div className=\"assignment_info_container\">\n\t\t\t\t\t\t\t\t{selectedAssign.questions.map(\n\t\t\t\t\t\t\t\t\t(question: QuestionObj, index: number) =>\n\t\t\t\t\t\t\t\t\t\tanswer &&\n\t\t\t\t\t\t\t\t\t\t<StudentQuestion\n\t\t\t\t\t\t\t\t\t\t\tkey={question.questionId}\n\t\t\t\t\t\t\t\t\t\t\tanswer={answer}\n\t\t\t\t\t\t\t\t\t\t\tsetAnswer={setAnswer}\n\t\t\t\t\t\t\t\t\t\t\tsetStatus={setStatus}\n\t\t\t\t\t\t\t\t\t\t\tquestion={question}\n\t\t\t\t\t\t\t\t\t\t\tindex={index}\n\t\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t}\n\t\t\t\t\t</>\n\t\t\t}\n\t\t</>\n\t);\n}\n\nexport default Assignment;","import axios from \"axios\";\nimport React, { useEffect, useState } from 'react';\nimport { Grid, Divider, Typography } from '@material-ui/core';\nimport AssignmentIcon from '@material-ui/icons/Assignment';\nimport InfoIcon from '@material-ui/icons/Info';\n\nimport { PageInfo, ScoreStats, QuestionSelector, StudentSelector, MarkdownViewer, UserAnswer } from '../Components';\nimport { useAssignmentDispatch, useAssignmentState, useSelectedAssignState, useSelectedDispatch } from \"../Main/Model/AssignmentModel\";\nimport { RouteComponentProps } from \"react-router-dom\";\nimport { modifiedDateToString } from '../utils';\nimport { AssignmentObj } from \"../Main/Type\";\nimport { useAnswerState, saveAnswer } from \"../Main/Model/AnswerModel\";\n\n/*\n필요한 action\n- FETCH Assignment\n- FETCH Answers\n\n*/\ntype MatchParams = {\n\tasId?: string;\n}\n\ntype Question = number;\n\ntype Student = number;\n\ntype DictElement = {\n\tuserNumber: number;\n\tanswers: any[];\n\tmeta: any;\n}\n\ntype AnswersDict = {\n\t[key: number]: DictElement;\n}\n\ntype Props = RouteComponentProps<MatchParams> & {\n\n} \n\nconst PropAssignment: React.FunctionComponent<Props> = ({match}) => {\n\tconst selectedAssign = useSelectedAssignState();\n\tconst answers = useAnswerState();\n\tconst setSelected = useSelectedDispatch();\n\tconst [answersDict, setAnswersDict] = useState<AnswersDict|null>(null);\n\tconst [selectedQues, setSelectedQues] = useState<Question[]>([]);\n\tconst [selectedStus, setSelectedStus] = useState<Student[]>([]);\n\tconst saveAnswerFun = saveAnswer();\n\n\tuseEffect(() => {\n\t\tif(match.params.asId) {\n\t\t\tsetSelected(Number(match.params.asId));\n\t\t}\n\t\telse {\n\t\t\tsetSelected(undefined);\n\t\t}\n\t}, [match.params.asId]);\n\n\tuseEffect(() => {\n\t\tif(!selectedAssign || answers.length === 0) return;\n\t\tconst dict: {[key: number]: DictElement;} = {};\n\t\tanswers.forEach(({userNumber, answers, meta}, idx) => {\n\t\t\tdict[userNumber] = {\n\t\t\t\tuserNumber,\n\t\t\t\tanswers,\n\t\t\t\tmeta,\n\t\t\t}\n\t\t})\n\t\tsetAnswersDict(dict);\n\t}, [selectedAssign, answers]);\n\t\n\tfunction getSubTitle(as: AssignmentObj) {\n\t\t// modifiedDateToString 이용하도록 수정함\n\t\tconst deadlineString = modifiedDateToString(new Date(as.deadline));\n\t\treturn deadlineString + \" 마감\";\n\t}\n\t\n\n\tconst handleScoreChange = (answer: any, userNumber: number) => {\n\t\treturn (score: number) => {\n\t\t\tif(!score) return;\n\t\t\tconsole.log(selectedAssign);\n\t\t\tsaveAnswerFun([{\n\t\t\t\t...answer,\n\t\t\t\tscore,\n\t\t\t}])\n\t\t}\n\t};\n\tconst getQueryResult = (ques: Question[], stus: Student[]) => {\n\t\tconst NotExistComponent = <Typography variant=\"h6\" className=\"query_caption\">답안을 조회할 문제 목록과 학생 목록을 선택해주세요!</Typography>;\n\t\tconst ErrorComponent = <Typography variant=\"h6\" className=\"query_caption\">문제를 조회하는 동안 오류가 발생하였습니다.</Typography>;\n\t\tif(!ques.length || !stus.length || !selectedAssign) {\n\t\t\treturn NotExistComponent;\n\t\t}\n\t\ttry {\n\t\t\tconst questions = ques.sort();\n\t\t\tconst students = stus.sort();\n\t\t\tconst questionsSet = new Set(questions);\n\t\t\tconst Result = selectedAssign.questions.map((question, idx) => {\n\t\t\t\tif(questionsSet.has(question.questionId)) { // if question selected\n\t\t\t\t\tconst _ = students.map((studentId, stuidx) => {\n\t\t\t\t\t\tconst answer = answersDict && answersDict[studentId]?.answers?.find((item: any) => item.questionId === question.questionId);\n\t\t\t\t\t\treturn (\n\t\t\t\t\t\t\t<UserAnswer \n\t\t\t\t\t\t\t\tkey={stuidx}\n\t\t\t\t\t\t\t\tassignmentState={selectedAssign.assignmentState}\n\t\t\t\t\t\t\t\tscore={answer ? answer.score : -1}\n\t\t\t\t\t\t\t\tfullScore={question.fullScore}\n\t\t\t\t\t\t\t\tanswerContent={answer && answer.answerContent}\n\t\t\t\t\t\t\t\tuserNumber={studentId}\n\t\t\t\t\t\t\t\tquestionNumber={idx+1}\n\t\t\t\t\t\t\t\tquestionId={question.questionId}\n\t\t\t\t\t\t\t\thandleScoreChange={handleScoreChange(answer, studentId)}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t)\n\t\t\t\t\t})\n\t\t\t\t\treturn (\n\t\t\t\t\t\t<Grid key={idx} container className=\"problem_container\" direction=\"column\">\n\t\t\t\t\t\t\t<Grid container className=\"problem_description\" direction=\"row\" alignItems=\"flex-start\" justify=\"flex-start\">\n\t\t\t\t\t\t\t\t<h6 className=\"problem_number\">{idx+1 + \".\"}</h6>\n\t\t\t\t\t\t\t\t<MarkdownViewer source={question.questionContent}></MarkdownViewer>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t{_}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t})\n\t\t\treturn Result;\n\t\t} catch(err) {\n\t\t\treturn ErrorComponent;\n\t\t}\n\t};\n\n\tif(!selectedAssign) {\n\t\treturn <div>수정 필요</div>\n\t}\n\treturn (\n\t\t<Grid container direction=\"column\">\n\t\t\t<PageInfo \n\t\t\t\ticon=\"📚\"\n\t\t\t\tmainTitle={selectedAssign.assignmentName as string}\n\t\t\t\tsubTitle={getSubTitle(selectedAssign)}\n\t\t\t\tinformation={<p>학생들의 답안 제출 현황을 확인하고 과제가 마감되었다면 학생들의 답안들을 채점할 수 있습니다.</p>}\n\t\t\t/>\n\t\t\t<Grid container direction=\"column\" className=\"contents-container\">\n\t\t\t\t<Grid className=\"contents-title\">\n\t\t\t\t\t<h6>점수 통계</h6>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid container item direction=\"row\" className=\"page_additional_info\" alignItems=\"center\">\n\t\t\t\t\t<InfoIcon color=\"primary\" />\n\t\t\t\t\t<p>{\"'채점 완료 여부'는 그 학생이 제출한 답안들을 모두 채점하였느냐를 의미합니다.\"}</p>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid item xs>\n\t\t\t\t\t{<ScoreStats assign={selectedAssign} answersDict={answersDict}></ScoreStats>}\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t\t<Grid container direction=\"column\" className=\"contents-container\">\n\t\t\t\t<Grid className=\"contents-title\">\n\t\t\t\t\t<h6>답안 확인 및 채점</h6>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid container item direction=\"row\" className=\"page_additional_info\" alignItems=\"center\">\n\t\t\t\t\t<InfoIcon color=\"primary\" />\n\t\t\t\t\t<p>아래 두 표에서 확인하려는 문제의 목록과, 확인하려는 학생의 목록을 각각 선택하면 이에 해당하는 모든 답안이 쿼리되어 아래에 나열됩니다.<br/>그리고 각각에 대한 점수를 부여할 수 있으며 변경사항은 자동 저장됩니다.</p>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid className=\"selector-container\" container spacing={3} direction=\"row\" wrap=\"wrap\" alignItems=\"center\">\n\t\t\t\t\t<Grid item xs>\n\t\t\t\t\t\t<QuestionSelector key={selectedAssign.assignmentId} assign={selectedAssign} onChange={(selected: any) => {setSelectedQues(selected);}} />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid item xs>\n\t\t\t\t\t\t<StudentSelector key={selectedAssign.assignmentId} assign={selectedAssign} answersDict={answersDict} selectedQues={selectedQues} onChange={(selected: any) => {setSelectedStus(selected);}} />\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t\t<Divider />\n\t\t\t\t{getQueryResult(selectedQues, selectedStus)}\n\t\t\t</Grid>\n\t\t</Grid>\n\n\t)\n}\n\nexport default PropAssignment;","export const assignmentStateConst = {\n\t\"notReleased\": 0,\n\t\"released\": 1,\n\t\"scoring\": 2,\n\t\"done\": 3\n}","import React from 'react';\nimport { Link, useHistory } from \"react-router-dom\";\n\nimport { PageInfo } from '../Components';\nimport { useAssignmentState, useDeleteAssignment } from '../Main/Model/AssignmentModel';\nimport { AssignmentObj } from '../Main/Type'\nimport { assignmentStateConst } from '../utils/assignmentStateConst'\n\nimport { Grid, Paper, Button, Typography } from '@material-ui/core';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport FiberManualRecordIcon from '@material-ui/icons/FiberManualRecord';\nimport { green } from '@material-ui/core/colors';\n\nconst Setting: React.FC = () => {\n\tconst assignment = useAssignmentState();\n\tconst confirmDeletion = useDeleteAssignment();\n\tconst history = useHistory();\n    \n\tfunction deleteAssignment(id: number, name: string){\n\t\tconst string = \"과제 \\\"\"+name+\"\\\" 을(를) 정말로 삭제할까요?\";\n\t\tif(window.confirm(string)===false){\n\t\t\treturn;\n\t\t}\n\n\t\tconfirmDeletion(id);\n\t\thistory.push(\"/setting\");\n\t}\n\n\tfunction getAssignmentBox(as: AssignmentObj) {\n\t\tlet stateWord = \"error\";\n\n\t\tswitch(as.assignmentState){\n\t\tcase assignmentStateConst[\"notReleased\"]: \n\t\t\tstateWord=\"발행 전\"; \n\t\t\tbreak;\n\t\tcase assignmentStateConst[\"released\"]: \n\t\t\tstateWord=\"발행됨\"; \n\t\t\tbreak;\n\t\tcase assignmentStateConst[\"scoring\"]: \n\t\t\tstateWord=\"채점 필요\"; \n\t\t\tbreak;\n\t\tcase assignmentStateConst[\"done\"]: \n\t\t\tstateWord=\"채점 완료\"; \n\t\t\tbreak;\n\t\tdefault: \n\t\t\treturn;\n\t\t}\n\n\t\tlet icon = <FiberManualRecordIcon className=\"circle_icon\"/>\n\t\tswitch(as.assignmentState){\n\t\tcase assignmentStateConst[\"notReleased\"]:\n\t\t\ticon = <FiberManualRecordIcon/>;\n\t\t\tbreak;\n\t\tcase assignmentStateConst[\"released\"]:\n\t\t\ticon = <FiberManualRecordIcon style={{color:green[700]}}/>;\n\t\t\tbreak;\n\t\tcase assignmentStateConst[\"scoring\"]:\n\t\t\ticon = <FiberManualRecordIcon color=\"secondary\"/>;\n\t\t\tbreak;\n\t\tcase assignmentStateConst[\"done\"]:\n\t\t\ticon = <FiberManualRecordIcon color=\"primary\"/>;\n\t\t\tbreak;\n\t\tdefault: \n\t\t\treturn;\n\t\t}\n\n\t\treturn(\n\t\t\t<div className=\"box-container\">\n\t\t\t\t<Paper elevation={3} className=\"box-button\">\n\t\t\t\t\t<div onClick={() => history.push(\"/setting/\" + as.assignmentId)} className=\"box-name\">\n\t\t\t\t\t\t{icon}\n\t\t\t\t\t\t<Typography>\n\t\t\t\t\t\t\t{as.assignmentName} ({stateWord})\n\t\t\t\t\t\t</Typography>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div className=\"box-xbtn\">\n\t\t\t\t\t\t<Button onClick={()=>deleteAssignment(as.assignmentId, as.assignmentName)}><ClearIcon/></Button>\n\t\t\t\t\t</div>\n\t\t\t\t</Paper>\n\t\t\t</div>\n\t\t);\n\t}\n\n\treturn(\n\t\t<Grid container className=\"setting-con\" direction=\"column\">\n\t\t\t<PageInfo className=\"assignment_info\"\n\t\t\t\ticon=\"📖\"\n\t\t\t\tmainTitle=\"과제관리\"\n\t\t\t\tsubTitle=\"사용자의 과제 목록을 볼 수 있는 페이지입니다.\"\n\t\t\t\tinformation={<p>각 과제의 세부 정보를 수정하시려면 과제명을 클릭하세요. 과제를 추가하시려면 &apos;과제 추가&apos; 버튼을 눌러주세요.</p>}\n\t\t\t/>\n\t\t\t<div className=\"contents-container\">\n\t\t\t\t<div className=\"contents-title\">\n\t\t\t\t\t<h6>과제 목록</h6>\n\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" onClick={() => history.push(\"/setting/add\")}>과제 추가하기</Button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"contents box-layout\">\n\t\t\t\t\t{\n\t\t\t\t\t\tassignment.length === 0 ? (\n\t\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">과제가 없습니다. 추가해주세요!</Typography>\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\tassignment.map((as)=> getAssignmentBox(as))\n\t\t\t\t\t\t)\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</Grid>\n\t);\n}\n\nexport default Setting;","import React, { useState, useEffect } from 'react';\nimport { PageInfo, TimePicker, MarkdownEditor, MarkdownViewer, StudentPopup } from '../Components';\nimport { useAddAssignment, useUpdateAssignment, useSelectedAssignState, useSelectedDispatch } from '../Main/Model/AssignmentModel';\nimport { AddAssignmentObj, UpdateAssignmentObj, QuestionObj } from '../Main/Type';\nimport dateToString from \"../utils/dateToString\"\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { Grid, Paper, Modal, TextField, Typography, Button } from '@material-ui/core';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport InfoIcon from '@material-ui/icons/Info';\n\ninterface Match<ParamType> {\n\tparams: ParamType;\n}\n\ninterface RouteComponentProps<P> {\n\tmatch: Match<P>;\n}\n\ninterface SetAssignmentParams {\n\tasId: string;\n}\n\n// SetAssignment 페이지\nconst SetAssignment: React.FC<RouteComponentProps<SetAssignmentParams>> = ({match}) => {\n\tconst [update, forceUpdate] = useState<boolean>(false); // rendering update용\n\tconst [qOpen, setQOpen] = useState<boolean>(false); // question modal 관리\n\tconst [sOpen, setSOpen] = useState<boolean>(false); // student list modal 관리\n\n\t// 강의 정보\n\tconst [lectureName, setLecture] = useState<string>();\n\t// 과제 정보\n\tconst [assignId, setAssignId] = useState<number>(-1);\n\tconst [assignName, setAssignName] = useState<string>();\n\tconst [assignInfo, setAssignInfo] = useState<string>();\n\tconst [initAssignInfo, setInitAssignInfo] = useState<string>();\n\tconst [modifiedDate, setModifiedDate] = useState<Date>(); // 저장 시간\n\tconst [publishingTime, setPublishingTime] = useState<Date>(); // 발행 시간\n\tconst [deadline, setDeadline] = useState<Date>(); // 마감 시간\n\tconst [questions, setQuestions] = useState<Array<QuestionObj>>([]);\n\tconst [students, setStudents] = useState<Array<number>>([]);\n\t// modal state 관리\n\tconst [renderQuestionIndex, setRenderQuestionIndex] = useState<number>(-1); \n\tconst [renderQuestionContents, setRenderQuestionContents] = useState<string>(); \n\tconst [initRenderQuestionContents, setInitRenderQuestionContents] = useState<string>();\n\tconst [renderQuestionScore, setRenderQuestionScore] = useState<number>();\n\t// preProcessingAssignmentData에서 모든 열이 정상임이 확인되면 아래 데이터가 할당됨.\n\tconst [addAssignObj, setAddAssignObj] = useState<AddAssignmentObj>();\n\tconst [updateAssignObj, setUpdateAssignObj] = useState<UpdateAssignmentObj>();\n\n\tconst history = useHistory();\n\tconst addAssignment = useAddAssignment();\n\tconst updateAssignment = useUpdateAssignment();\n\tconst oldAssignment = useSelectedAssignState();\n\tconst setOldAssignmentId = useSelectedDispatch();\n\n\tuseEffect(() => {\n\t\tconst asId = match.params.asId; // url의 과제id에 해당하는 정보 불러오기\n\n\t\tif (asId !== undefined && asId !== \"add\") { // 이미 존재하는 과제 설정을 수정하는 페이지일 때\n\t\t\tsetAssignId(Number(asId));\n\t\t\tsetOldAssignmentId(Number(asId));\n\t\t} else { // 새로운 과제를 추가하는 페이지일 때\n\t\t\tconst date = new Date();\n\t\t\tsetPublishingTime(date);\n\t\t\tsetDeadline(date);\n\t\t}\n\t}, [match.params.asId]);\n\n\tuseEffect(() => {\n\t\tif (oldAssignment && assignId !== -1) {\n\t\t\tsetAssignId(oldAssignment.assignmentId);\n\t\t\tsetAssignInfo(oldAssignment.assignmentInfo);\n\t\t\tsetInitAssignInfo(oldAssignment.assignmentInfo);\n\t\t\tlet tmp = oldAssignment.assignmentName.split('[');\n\t\t\ttmp = tmp[1].split(']');\n\t\t\tsetLecture(tmp[0]);\n\t\t\tsetAssignName(tmp[1]);\n\t\t\tsetPublishingTime(oldAssignment.publishingTime); \n\t\t\tsetDeadline(oldAssignment.deadline);\n\t\t\tsetQuestions(oldAssignment.questions);\n\t\t\tsetStudents(oldAssignment.students);\n\t\t}\n\t}, [oldAssignment])\n\n\t// if you click question button => questionsHandleOpen();\n\t// if you click question +(add) button => addQuestion();\n\t// if you click question x(delete) button => deleteQuestion();\n\t// if you modify quetion modal textfield => changeRenderQuestion();\n\t// if you click quetions modal save button => saveRenderQuestion();\n\n\tfunction questionHandleOpen(index: number): void {\n\t\tsetQOpen(true);\n\t\tsetRenderQuestionIndex(index);\n\t\tsetRenderQuestionContents(questions[index].questionContent);\n\t\tsetInitRenderQuestionContents(questions[index].questionContent);\n\t\tsetRenderQuestionScore(questions[index].fullScore);\n\t}\n\n\tfunction questionHandleClose(): void {\n\t\tsetQOpen(false);\n\t}\n\n\tfunction listHandleOpen(): void {\n\t\tsetSOpen(true);\n\t}\n\n\tfunction listHandleClose(): void {\n\t\tsetSOpen(false);\n\t}\n\n\tfunction changeLectureField(e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>): void {\n\t\t// textfield가 바뀔 때마다 lectureName 갱신\n\n\t\tsetLecture(e.target.value);\n\t\t// forceUpdate(!update);\n\t}\n\n\tfunction changeAssignNameField(e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>): void {\n\t\t// textfield가 바뀔 때마다 assignmentName 갱신\n\n\t\tsetAssignName(e.target.value);\n\t\t// forceUpdate(!update);\n\t}\n\n\tfunction changeAssignInfoField(value: string): void {\n\t\t// MarkdownEditor가 바뀔 때마다 Description 갱신\n\n\t\tsetAssignInfo(value);\n\t\t// forceUpdate(!update);\n\t}\n\n\tfunction addQuestion(): void {\n\t\tlet maxQuesId = 0;\n\t\tfor (const ques of questions)\n\t\t\tmaxQuesId = Math.max(maxQuesId, ques.questionId);\n\n\t\t// 새로운 문제 추가\n\t\tconst index = questions.length;\n\t\tconst newQuestion: QuestionObj = {\n\t\t\tquestionId : maxQuesId+1,\n\t\t\tquestionContent : \"\",\n\t\t\tfullScore : 0,\n\t\t};\n\n\t\tconst tmp = questions;\n\t\ttmp.push(newQuestion);\n\t\tsetQuestions(tmp);\n\t\tquestionHandleOpen(index);\n\t}\n\n\tfunction changeRenderQuestion(value: string, type: number): void {\n\t\t// textfield가 바뀔 때마다 render state들 갱신\n\n\t\tif(type===0){ // 문제 설명 갱신\n\t\t\tsetRenderQuestionContents(value);\n\t\t}else{ // 배점 갱신\n\t\t\tconst converted = Number(value);\n\t\t\tsetRenderQuestionScore(converted);\n\t\t}\n\t\t// forceUpdate(!update);\n\t}\n\n\tfunction deleteQuestion(index: number): void {\n\t\t// 문제 삭제\n\t\tconst tmp = questions;\n\t\ttmp.splice(index, 1);\n\t\tsetQuestions(tmp);\n\t\t// forceUpdate(!update);\n\t}\n\n\tfunction preProcessingQuestionData(): string {\n\t\tif(renderQuestionContents===undefined || renderQuestionContents === \"\")\n\t\t\treturn \"문제 내용이 없습니다.\";\n\n\t\tif(renderQuestionScore == undefined || isNaN(renderQuestionScore))\n\t\t\treturn \"배점이 숫자가 아닙니다.\";\n\n\t\tif(renderQuestionScore<0 || renderQuestionScore>100)\n\t\t\treturn \"배점이 0 ~ 100 범위를 벗어납니다.\";\n\n\t\treturn \"\";\n\t}\n\n\tfunction saveRenderQuestion(): void {\n\t\tconst errorMessage = preProcessingQuestionData();\n\t\tif(errorMessage!==\"\"){\n\t\t\talert(errorMessage);\n\t\t\treturn;\n\t\t}\n\n\t\tconst tmp = questions;\n\t\ttmp[renderQuestionIndex].questionContent = (renderQuestionContents == undefined ? \"\" : renderQuestionContents);\n\t\ttmp[renderQuestionIndex].fullScore = (renderQuestionScore == undefined ? 0 : renderQuestionScore);\n\n\t\tsetQuestions(questions);\n\t\tquestionHandleClose();\n\t}\n\n\tfunction saveStudentModalGroup(getStudents: number[]): void {\n\t\t// renderStudent => students 저장\n\t\tsetStudents(getStudents);\n\t\tlistHandleClose();\n\t}\n\n\tfunction preProcessingAssignmentData(): string {\n\t\tif (lectureName === undefined)\n\t\t\treturn \"강의명이 없습니다. 강의명을 작성해주세요.\";\n\n\t\tif (assignName === undefined)\n\t\t\treturn \"과제명이 없습니다. 과제명을 작성해주세요.\";\n\n\t\tif (publishingTime === undefined)\n\t\t\treturn \"과제 시작 시간이 유효하지 않습니다.\";\n\t\t\n\t\tif (deadline === undefined)\n\t\t\treturn \"과제 마감 시간이 유효하지 않습니다.\";\n\n\t\tif (publishingTime.getTime() - deadline.getTime() === 0)\n\t\t\treturn \"과제 시작 시각과 마감 시각이 같습니다.\";\n\n\t\tif (deadline.getTime() - Date.now() < 0)\n\t\t\treturn \"과제 마감 시각이 현재보다 이전입니다.\";\n\n\t\tif (questions.length === 0)\n\t\t\treturn \"문제가 없습니다. 문제를 생성해주세요.\";\n        \n\t\tif (students.length === 0)\n\t\t\treturn \"수강생이 없습니다. 수강생을 추가해주세요.\";\n        \n\t\tif (assignId === -1) { // 새로운 과제를 생성하는 경우\n\t\t\tsetAddAssignObj({\n\t\t\t\tstudents : students,\n\t\t\t\tassignmentName : \"[\" + lectureName + \"] \" + assignName,\n\t\t\t\tassignmentInfo : (assignInfo ? assignInfo : \"\"),\n\t\t\t\tpublishingTime : publishingTime,\n\t\t\t\tdeadline : deadline,\n\t\t\t\tquestions : questions\n\t\t\t})\n\t\t} else { // 기존의 과제를 수정하는 경우\n\t\t\tsetUpdateAssignObj({\n\t\t\t\tassignmentId : assignId,\n\t\t\t\tstudents : students,\n\t\t\t\tassignmentName : \"[\" + lectureName + \"] \" + assignName,\n\t\t\t\tassignmentInfo : (assignInfo ? assignInfo : \"\"),\n\t\t\t\tpublishingTime : publishingTime,\n\t\t\t\tdeadline : deadline,\n\t\t\t\tquestions : questions\n\t\t\t})\n\t\t}\n\n\t\treturn \"\";\n\t}\n\n\tfunction saveAssignmentToDB(): void {\n\t\t// 과제 수정/생성 API와의 연동\n\n\t\tconst errMessage = preProcessingAssignmentData();\n\t\tif(errMessage !== \"\") {\n\t\t\talert(errMessage);\n\t\t\treturn;\n\t\t}\n\n\t\t// preProcessingAssignmentData에서 각 데이터가 undefined인지 확인하므로,\n\t\t// 모든 열이 undefined가 아님이 보장됨.\n\t\tif (assignId === -1 && addAssignObj) { // 새로운 과제를 생성하는 경우\n\t\t\taddAssignment(addAssignObj);\n\t\t} else if (updateAssignObj) { // 기존의 과제를 수정하는 경우\n\t\t\tupdateAssignment(updateAssignObj);\n\t\t}\n\n\t\tsetModifiedDate(new Date());\n\t\thistory.push(\"/home/setting\");\n\t}\n\n\treturn (\n\t\t<Grid container className=\"set-assign-con\" direction=\"column\">\n\t\t\t<PageInfo className=\"assignment-info\"\n\t\t\t\ticon=\"📚\"\n\t\t\t\tmainTitle=\"과제별 설정\"\n\t\t\t\tsubTitle=\"각 과제의 세부정보를 설정하는 페이지입니다.\" \n\t\t\t\tinformation={<p>우측 하단의 저장버튼을 누르시면 DB에 저장됩니다.</p>}/>\n\t\t\t<div className=\"contents-container set-assign-column\">\n\t\t\t\t<div className=\"contents-title\">\n\t\t\t\t\t<h6>강의 정보</h6>\n\t\t\t\t</div>\n\n\t\t\t\t<Grid className=\"setting-as-row\" container item direction=\"row\">\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<TextField \n\t\t\t\t\t\t\tfullWidth \n\t\t\t\t\t\t\tonChange={(e)=>changeLectureField(e)} \n\t\t\t\t\t\t\thelperText=\"강의명을 기재해주세요. ex_ 이산수학\" \n\t\t\t\t\t\t\tInputLabelProps={{shrink:true}} \n\t\t\t\t\t\t\tlabel=\"강의명\" \n\t\t\t\t\t\t\trequired \n\t\t\t\t\t\t\tmultiline \n\t\t\t\t\t\t\trowsMax={2} \n\t\t\t\t\t\t\tvalue={lectureName}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<TextField \n\t\t\t\t\t\t\tfullWidth \n\t\t\t\t\t\t\tonChange={(e)=>changeAssignNameField(e)} \n\t\t\t\t\t\t\thelperText=\"과제명을 기재해주세요. 강의명과 함께 발행날짜 이전에 학생들에게 보여집니다*\" \n\t\t\t\t\t\t\tInputLabelProps={{shrink:true}} \n\t\t\t\t\t\t\tlabel=\"과제명\" \n\t\t\t\t\t\t\trequired \n\t\t\t\t\t\t\tmultiline \n\t\t\t\t\t\t\trowsMax={2} \n\t\t\t\t\t\t\tvalue={assignName}\n\t\t\t\t\t\t/>\n\t\t\t\t\t</div>\n\t\t\t\t</Grid>\n\n\t\t\t\t<div className=\"contents-title\">\n\t\t\t\t\t<h6>과제 설명</h6>\n\t\t\t\t</div>\n\n\t\t\t\t<Grid container item direction=\"row\">\n\t\t\t\t\t<Grid xs={12}>\n\t\t\t\t\t\t<MarkdownEditor\n\t\t\t\t\t\t\tonChange={changeAssignInfoField}\n\t\t\t\t\t\t\tcontents={(initAssignInfo ? initAssignInfo : \"\")}\n\t\t\t\t\t\t\tlines={20}\n\t\t\t\t\t\t></MarkdownEditor>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\n\t\t\t\t<Grid container direction=\"row\" alignItems=\"center\">\n\t\t\t\t\t<InfoIcon color=\"primary\"/>\n\t\t\t\t\t위의 과제 설명란에 자세한 과제 내용과 주의사항을 기재해주세요. 개별 문제는 아래의 문제란에 기재해주세요.\n\t\t\t\t</Grid>\n\n\t\t\t\t<Grid item>\n\t\t\t\t\t{(publishingTime!==undefined && deadline!==undefined)?\n\t\t\t\t\t\t<TimePicker\n\t\t\t\t\t\t\tpublishingTime = {publishingTime}\n\t\t\t\t\t\t\tdeadline = {deadline}\n\t\t\t\t\t\t\tsetPublishingTime = {setPublishingTime}\n\t\t\t\t\t\t\tsetDeadline = {setDeadline}\n\t\t\t\t\t\t\tstartHelperText=\"이 시각 이후로 학생들은 과제를 보고 수정할 수 있습니다.\"\n\t\t\t\t\t\t\tendHelperText=\"이 시각 이후로 학생들은 과제를 수정할 수 없습니다.\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t:\"Please wait...\"\n\t\t\t\t\t}\n\t\t\t\t</Grid>\n\n\t\t\t\t<Grid container item direction=\"column\" className=\"contents_con\">\n\t\t\t\t\t<div className=\"contents-title\">\n\t\t\t\t\t\t<h6>문제</h6>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Grid container wrap=\"wrap\" alignItems=\"center\" className=\"contents box_layout\" >\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tquestions.map((question, index)=>\n\t\t\t\t\t\t\t\t<Grid key={question.questionId} container className=\"box_container\" item>\n\t\t\t\t\t\t\t\t\t<Grid item className=\"box_content\">\n\t\t\t\t\t\t\t\t\t\t<Button className=\"box_button\" onClick={()=>questionHandleOpen(index)}>\n\t\t\t\t\t\t\t\t\t\t\t<Paper className=\"box_name\">\n\t\t\t\t\t\t\t\t\t\t\t\t<Grid container className=\"problem_container\" direction=\"column\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Grid container className=\"problem_description\" direction=\"row\" alignItems=\"flex-start\" justify=\"flex-start\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"problem_number\">{(index + 1) + \".\"}</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MarkdownViewer className=\"problem_description_viewer\" source={question.questionContent}></MarkdownViewer>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t\t\t<h6 className=\"problem_score\">{question.fullScore + \"점\"}</h6>\n\t\t\t\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t\t<Grid item className=\"box_xbtn\">\n\t\t\t\t\t\t\t\t\t\t<Button onClick={()=>deleteQuestion(index)}><ClearIcon/></Button>\n\t\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)\n\t\t\t\t\t\t}\n\t\t\t\t\t\t<Paper className=\"add_button\">\n\t\t\t\t\t\t\t<Button onClick={addQuestion}>\n\t\t\t\t\t\t\t\t<Typography>문제 추가</Typography>\n\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t<Modal\n\t\t\t\t\t\t\topen={qOpen}\n\t\t\t\t\t\t\tonClose={questionHandleClose}\n\t\t\t\t\t\t\taria-labelledby=\"add question to assignment\"\n\t\t\t\t\t\t\taria-describedby=\"add question to assignment\"\n\t\t\t\t\t\t\tclassName=\"modal\">\n\t\t\t\t\t\t\t<Paper className=\"modal_con\">\n\t\t\t\t\t\t\t\t<Grid container direction=\"column\" className=\"modal_form\">\n\t\t\t\t\t\t\t\t\t<MarkdownEditor\n\t\t\t\t\t\t\t\t\t\tonChange={(value) => changeRenderQuestion(value,0)}\n\t\t\t\t\t\t\t\t\t\tcontents={(initRenderQuestionContents ? initRenderQuestionContents : \"\")}\n\t\t\t\t\t\t\t\t\t\tlines={20}\n\t\t\t\t\t\t\t\t\t></MarkdownEditor>\n\t\t\t\t\t\t\t\t\t<TextField \n\t\t\t\t\t\t\t\t\t\tonChange={(e)=>changeRenderQuestion(e.target.value,1)} \n\t\t\t\t\t\t\t\t\t\tInputLabelProps={{shrink:true}} \n\t\t\t\t\t\t\t\t\t\tlabel=\"배점\" required multiline \n\t\t\t\t\t\t\t\t\t\trows={1} rowsMax={10} \n\t\t\t\t\t\t\t\t\t\tvalue={renderQuestionScore}\n\t\t\t\t\t\t\t\t\t\terror={typeof(renderQuestionScore)===\"string\"?true:false}\n\t\t\t\t\t\t\t\t\t\thelperText=\"숫자를 입력해주세요.\"\n\t\t\t\t\t\t\t\t\t></TextField>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t\t<Button className=\"save_button\" onClick={()=>saveRenderQuestion()}>저장</Button>\n\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t</Modal>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n                \n\t\t\t\t<Grid container item direction=\"column\" className=\"contents_con set-assign-column\">\n\t\t\t\t\t<div className=\"contents-title\">\n\t\t\t\t\t\t<h6>수강생 목록</h6>\n\t\t\t\t\t</div>\n\t\t\t\t\t<Paper className=\"add_button\">\n\t\t\t\t\t\t<Button onClick={listHandleOpen}>\n\t\t\t\t\t\t\t<Typography>수강생 목록 수정</Typography>\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</Paper>\n\t\t\t\t\t<Grid container direction=\"row\" alignItems=\"center\">\n\t\t\t\t\t\t<InfoIcon color=\"primary\"/>\n\t\t\t\t\t\t현재 아래에 표시된 학생들이 과제에 배정되어있습니다.\n\t\t\t\t\t</Grid>\n\t\t\t\t\t{students.map((student)=>student+\" \")}\n\t\t\t\t\t<Grid>\n\t\t\t\t\t\t<StudentPopup\n\t\t\t\t\t\t\topen = {sOpen}\n\t\t\t\t\t\t\thandleClose = {listHandleClose}\n\t\t\t\t\t\t\ttype = \"get\"\n\t\t\t\t\t\t\tstudents= {students}\n\t\t\t\t\t\t\tsaveFunc = {saveStudentModalGroup}\n\t\t\t\t\t\t\tlistName = \"\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n                \n\t\t\t\t<Grid className=\"assignment_saveinfo_con\">\n\t\t\t\t\t<Grid className=\"assignment_saveinfo\">\n\t\t\t\t\t\t<Typography>{dateToString(modifiedDate)}</Typography>\n\t\t\t\t\t\t<Button className=\"save_button\" onClick={saveAssignmentToDB}>저장</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</div>\n\t\t</Grid>\n\t);\n}\n\nexport default SetAssignment;\n","import React, { Dispatch, useEffect, useState } from 'react';\n\nimport { Grid, Paper, Button, Typography } from '@material-ui/core';\nimport ClearIcon from '@material-ui/icons/Clear';\n\nimport { PageInfo, MemberPopup } from '../Components';\nimport { GroupObj } from '../Main/Type';\nimport { useGroupState, useDeleteGroup } from '../Main/Model/GroupModel';\n\n// SetMember 페이지\nconst SetMember: React.FC = () => {\n\tconst groups : Array<GroupObj> = useGroupState();\n\tconst deleteGroupFunc : (groupId : number) => void = useDeleteGroup();\n\n\t// 처음 modal을 초기화하는 정보\n\tconst [selected, setSelected] = useState<GroupObj | undefined>(undefined); \n\tconst [open, setOpen] = useState<boolean>(false);\n\n\tconst setGroup = async (id : number) => {\n\t\t// 클릭 시 selected에 group 세팅\n\t\tawait setSelected(undefined);\n\t\tawait groups.forEach((gr) => {\n\t\t\tif(gr.groupId === id)\n\t\t\t\tsetSelected(gr);\n\t\t});\n\t\tsetOpen(true);\n\t}\n\n\tconst addGroup = async () => {\n\t\tawait setSelected(undefined);\n\t\tawait setOpen(false); // open을 갱신하므로써 modal을 띄우기\n\t\tsetOpen(true);\n\t}\n\n\tconst deleteGroup = (groupId : number, className : string) => {\n\t\tif(confirm(`[${className}] 그룹을 정말로 삭제하시겠어요?`))\n\t\t\tdeleteGroupFunc(groupId);\n\t}\n\n\treturn (\n\t\t<Grid container className=\"setmember-con\" direction=\"column\">\n\t\t\t<PageInfo className=\"student-list-info\"\n\t\t\t\ticon=\"🙌🏻\"\n\t\t\t\tmainTitle=\"수강생 목록 관리\"\n\t\t\t\tsubTitle=\"수강생 목록을 추가 / 수정 하는 페이지 입니다.\" \n\t\t\t\tinformation={<p>수강생 목록의 세부 정보를 수정하시려면 수강생 목록명을 클릭하세요. 수강생 목록을 추가하시려면 &apos;수강생 목록 추가&apos; 버튼을 눌러주세요.</p>}\n\t\t\t/>\n\t\t\t<div className=\"contents-container\">\n\t\t\t\t<div className=\"contents-title\">\n\t\t\t\t\t<h6>수강생 목록</h6>\n\t\t\t\t\t<Button color=\"primary\" variant=\"contained\" onClick={addGroup}>수강생 목록 추가하기</Button>\n\t\t\t\t</div>\n\t\t\t\t<div className=\"contents box-layout\" >\n\t\t\t\t\t{\n\t\t\t\t\t\tgroups.length===0?\n\t\t\t\t\t\t\t<div>\n\t\t\t\t\t\t\t\t<Typography variant=\"h6\">수강생 목록이 없습니다. 생성해주세요!</Typography>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t:groups.map((gr)=>(\n\t\t\t\t\t\t\t\t<div key={gr.groupId} className=\"box-container\">\n\t\t\t\t\t\t\t\t\t<Paper elevation={3} className=\"box-button\">\n\t\t\t\t\t\t\t\t\t\t<div onClick={() => setGroup(gr.groupId)} className=\"box-name\">\n\t\t\t\t\t\t\t\t\t\t\t{gr.className.length > 30 ?\n\t\t\t\t\t\t\t\t\t\t\t\t`${gr.className.substring(0, 30)}...` : gr.className}\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t\t<div className=\"box-xbtn\">\n\t\t\t\t\t\t\t\t\t\t\t<Button onClick={()=> deleteGroup(gr.groupId, gr.className)}>\n\t\t\t\t\t\t\t\t\t\t\t\t<ClearIcon/>\n\t\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t\t\t</Paper>\n\t\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))\n\t\t\t\t\t}\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t{\n\t\t\t\topen &&\n\t\t\t\t<MemberPopup\n\t\t\t\t\ttypeProps = { selected ? 'update' : 'add' }\n\t\t\t\t\thandleClose = {() => setOpen(false)}\n\t\t\t\t\tgroupProps = { selected }\n\t\t\t\t/>\n\t\t\t}\n\t\t</Grid>\n\t);\n}\n\nexport default SetMember;\n","import React from 'react';\n\nimport { Grid, Button } from '@material-ui/core';\nimport { Link } from 'react-router-dom';\n\nconst Error : React.FC = () => {\n\treturn (\n\t\t<Grid id=\"error-page\">\n\t\t\t<Grid className=\"error-con\">\n\t\t\t\t<Grid className=\"error-head\">\n\t\t\t\t\t<img src=\"./img/logo_new.png\" alt=\"logo\" />\n\t\t\t\t\t<h2>404 Error</h2>\n\t\t\t\t\t<h4>We can&apos;t seem to find the page you&apos;re looking for</h4>\n\t\t\t\t</Grid>\n\t\t\t\t<Grid className=\"btn-con\">\n\t\t\t\t\t<Link to=\"/main\"><Button color=\"primary\" variant=\"contained\">Back To Main</Button></Link>\n\t\t\t\t</Grid>\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n}\nexport default Error;\n","import React, { useEffect, useState } from 'react';\n\nimport { useHistory } from \"react-router-dom\";\nimport { TextField, Switch, Button, Grid } from \"@material-ui/core\";\nimport { saveMessage, useMessageState, useOnOffState } from \"../Main/Model/MessageModel\";\n\nconst Admin = () => {\n\tconst history = useHistory();\n\tconst saveFunction = saveMessage();\n\tconst m = useMessageState(); const o = useOnOffState();\n\n\tconst [message, setMessage] = useState<string>(\"\");\n\tconst [onOff, setOnOff] = useState<boolean>(false);\n\n\tconst onSubmit = () => {\n\t\tsaveFunction(message, onOff);\n\t};\n\n\tuseEffect(() => {\n\t\tconst key = prompt(\"What is the key of admin?\");\n\t\tif (key !== process.env.REACT_APP_ADMIN_KEY) {\n\t\t\talert(\"You are not Admin, Sorry.\");\n\t\t\thistory.push(\"/\");\n\t\t}\n\t}, []);\n\n\tuseEffect(() => {\n\t\tsetMessage(m); setOnOff(o);\n\t}, [m, o]);\n\n\treturn (\n\t\t<Grid className=\"admin-form-con\">\n\t\t\t{\n\t\t\t\t<Grid>\n\t\t\t\t\t<TextField name=\"message\" value={message} onChange={(e) => setMessage(e.target.value)}/>\n\t\t\t\t\t<Grid>\n\t\t\t\t\t\t<Switch name=\"onOff\" checked={onOff} onChange={(e) => setOnOff(e.target.checked)}/>\n\t\t\t\t\t\t<Button onClick={onSubmit}>SAVE</Button>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t}\n\t\t</Grid>\n\t);\n};\n\nexport default Admin;\n","import React from 'react';\nimport { LayoutRouter } from '.';\nimport { Route, Switch, Redirect } from 'react-router-dom';\n\nimport { Login, Error, Admin } from '../Pages';\nimport { useUserState } from './Model/UserModel';\n\n// View Model은 Model의 Context를 구독하고, 갱신하는 역할\nconst Router = () => {\n\tconst user = useUserState();\n\t// layout을 써야하는 frame만 모아둠\n\n\treturn (\n\t\t<Switch>\n\t\t\t<Route exact path=\"/\" component={Login} />\n\t\t\t<Route path=\"/admin\" component={Admin} />\n\t\t\t<Route path=\"/error\" component={Error} />\n\t\t\t{user && <Route path=\"/\" component={LayoutRouter} />}\n\t\t</Switch>\n\t);\n}\nexport default Router;\n","import React from 'react';\nimport { AssignmentContextProvider } from './Model/AssignmentModel';\nimport { UserContextProvider } from './Model/UserModel';\nimport { AnswerContextProvider } from './Model/AnswerModel';\nimport { GroupContextProvider } from './Model/GroupModel';\nimport { MessageContextProvider } from './Model/MessageModel';\nimport Router from './Router';\n\n// Model과 View Model을 이어주는 역할\nconst Provider = () => (\n\t<MessageContextProvider>\n\t\t<UserContextProvider>\n\t\t\t<AssignmentContextProvider>\n\t\t\t\t<GroupContextProvider>\n\t\t\t\t\t<AnswerContextProvider>\n\t\t\t\t\t\t<Router />\n\t\t\t\t\t</AnswerContextProvider>\n\t\t\t\t</GroupContextProvider>\n\t\t\t</AssignmentContextProvider>\n\t\t</UserContextProvider>\n\t</MessageContextProvider>\n);\n\nexport default Provider;\n","import React from 'react';\nimport { Route, Redirect, Switch } from 'react-router-dom';\nimport { Main, Assignment, Setting, SetAssignment, SetMember, ProfAssignment } from '../Pages';\nimport { useUserState } from './Model/UserModel';\nimport { Layout } from '../Components';\n\n\nconst LayoutRouter: React.FC = () => {\n\tconst user = useUserState();\n\t// layout을 써야하는 frame만 모아둠\n\n\treturn (\n\t\t<Layout>\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/main\" component={Main} />\n\t\t\t\t{<Route path=\"/as/:asId\" component={user && (user.type === 'professor' ? ProfAssignment : Assignment)} />}\n\t\t\t\t<Route exact path=\"/setting\" component={Setting} />\n\t\t\t\t<Route path=\"/setting/:asId\" component={SetAssignment} />\n\t\t\t\t<Route path=\"/member\" component={SetMember} />\n\t\t\t\t<Redirect path=\"*\" to=\"/error\"/>\n\t\t\t</Switch>\n\t\t</Layout>\n\t)\n}\n\nexport default LayoutRouter;","import React from 'react';\nimport { BrowserRouter } from 'react-router-dom';\nimport { Provider } from './Main';\nimport './scss/main.scss';\n\n// import library and set to use\nconst App : React.FC = () => \n\t<BrowserRouter>\n\t\t<Provider />\n\t</BrowserRouter>;\n\nexport default App;\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n\twindow.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.0/8 are considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n\t\t/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n\tif (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n\t\t// The URL constructor is available in all browsers that support SW.\r\n\t\tconst publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n\t\tif (publicUrl.origin !== window.location.origin) {\r\n\t\t\t// Our service worker won't work if PUBLIC_URL is on a different origin\r\n\t\t\t// from what our page is served on. This might happen if a CDN is used to\r\n\t\t\t// serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n\t\t\treturn;\r\n\t\t}\r\n\r\n\t\twindow.addEventListener('load', () => {\r\n\t\t\tconst swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n\t\t\tif (isLocalhost) {\r\n\t\t\t\t// This is running on localhost. Let's check if a service worker still exists or not.\r\n\t\t\t\tcheckValidServiceWorker(swUrl, config);\r\n\r\n\t\t\t\t// Add some additional logging to localhost, pointing developers to the\r\n\t\t\t\t// service worker/PWA documentation.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(() => {\r\n\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n\t\t\t\t\t);\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Is not localhost. Just register service worker\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t});\r\n\t}\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n\tnavigator.serviceWorker\r\n\t\t.register(swUrl)\r\n\t\t.then(registration => {\r\n\t\t\tregistration.onupdatefound = () => {\r\n\t\t\t\tconst installingWorker = registration.installing;\r\n\t\t\t\tif (installingWorker == null) {\r\n\t\t\t\t\treturn;\r\n\t\t\t\t}\r\n\t\t\t\tinstallingWorker.onstatechange = () => {\r\n\t\t\t\t\tif (installingWorker.state === 'installed') {\r\n\t\t\t\t\t\tif (navigator.serviceWorker.controller) {\r\n\t\t\t\t\t\t\t// At this point, the updated precached content has been fetched,\r\n\t\t\t\t\t\t\t// but the previous service worker will still serve the older\r\n\t\t\t\t\t\t\t// content until all client tabs are closed.\r\n\t\t\t\t\t\t\tconsole.log(\r\n\t\t\t\t\t\t\t\t'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n\t\t\t\t\t\t\t);\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onUpdate) {\r\n\t\t\t\t\t\t\t\tconfig.onUpdate(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t// At this point, everything has been precached.\r\n\t\t\t\t\t\t\t// It's the perfect time to display a\r\n\t\t\t\t\t\t\t// \"Content is cached for offline use.\" message.\r\n\t\t\t\t\t\t\tconsole.log('Content is cached for offline use.');\r\n\r\n\t\t\t\t\t\t\t// Execute callback\r\n\t\t\t\t\t\t\tif (config && config.onSuccess) {\r\n\t\t\t\t\t\t\t\tconfig.onSuccess(registration);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t};\r\n\t\t\t};\r\n\t\t})\r\n\t\t.catch(error => {\r\n\t\t\tconsole.error('Error during service worker registration:', error);\r\n\t\t});\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n\t// Check if the service worker can be found. If it can't reload the page.\r\n\tfetch(swUrl, {\r\n\t\theaders: { 'Service-Worker': 'script' },\r\n\t})\r\n\t\t.then(response => {\r\n\t\t\t// Ensure service worker exists, and that we really are getting a JS file.\r\n\t\t\tconst contentType = response.headers.get('content-type');\r\n\t\t\tif (\r\n\t\t\t\tresponse.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n\t\t\t) {\r\n\t\t\t\t// No service worker found. Probably a different app. Reload the page.\r\n\t\t\t\tnavigator.serviceWorker.ready.then(registration => {\r\n\t\t\t\t\tregistration.unregister().then(() => {\r\n\t\t\t\t\t\twindow.location.reload();\r\n\t\t\t\t\t});\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\t// Service worker found. Proceed as normal.\r\n\t\t\t\tregisterValidSW(swUrl, config);\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(() => {\r\n\t\t\tconsole.log(\r\n\t\t\t\t'No internet connection found. App is running in offline mode.'\r\n\t\t\t);\r\n\t\t});\r\n}\r\n\r\nexport function unregister() {\r\n\tif ('serviceWorker' in navigator) {\r\n\t\tnavigator.serviceWorker.ready\r\n\t\t\t.then(registration => {\r\n\t\t\t\tregistration.unregister();\r\n\t\t\t})\r\n\t\t\t.catch(error => {\r\n\t\t\t\tconsole.error(error.message);\r\n\t\t\t});\r\n\t}\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nserviceWorker.unregister();\n"],"sourceRoot":""}